webpackJsonp([12],{"+7T2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{ref:"aliPay",staticStyle:{"z-index":"999999!important"},domProps:{innerHTML:t._s(t.aliPayHtml)}}),t._v(" "),a("div",{staticClass:"popBg",on:{click:t.closePop}}),t._v(" "),a("div",{staticClass:"popSendMethod"},[a("div",{staticClass:"tip"},[a("p",[t._v("支付方式")]),t._v(" "),a("span",{staticClass:"icon-close",on:{click:t.closePop}})]),t._v(" "),a("ul",t._l(t.payMethod,function(e){return a("li",{staticClass:"item justify",class:{hide:t.isWechat&&"alipay"==e.name},on:{click:function(a){t.payFun(e.id,e.name)}}},[a("div",{staticClass:"box left"},[a("img",{attrs:{src:e.icon,alt:""}}),t._v(" "),a("b",[t._v(t._s(e.description))])]),t._v(" "),t._m(0,!0)])}))])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box right"},[a("span",{staticClass:"icon-arrow"})])}],r={render:s,staticRenderFns:i};e.a=r},"/WPN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("85WI"),i=a("Pkmh"),r=a("mPyB"),n=r(s.a,i.a,!1,null,null,null);e.default=n.exports},"0m0p":function(t,e,a){"use strict";var s=a("wiLv"),i=a("+7T2"),r=a("mPyB"),n=r(s.a,i.a,!1,null,null,null);e.a=n.exports},"62Nr":function(t,e,a){var s=a("5I2C");s(s.S+s.F*!a("eOPJ"),"Object",{defineProperty:a("8tNu").f})},"85WI":function(t,e,a){"use strict";var s=a("ELNT"),i=a("E7z3"),r=a("Pexp"),n=a("0m0p");e.a={data:function(){return{pageTitle:"我的订单",orderList:"",currentPage:1,pageSize:10,endListen:!1,orderStatus:this.$store.state.orderTabActive,active:this.$store.state.orderTabActive,orderId:"",showPayPop:!1}},components:{common:i.a,popMin:s.a,VTitle:r.a,payOrder:n.a},created:function(){this.$store.state.orderMemo="",this.getList()},methods:{isWeChatF:function(){var t=this;"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?t.isWechat=!0:t.isWechat=!1},changeOrderId:function(t){this.orderId=t,this.showPayPop=!0},getList:function(t){var e=this;e.endListen=!1;var a="/wechatecom/appserver/order/list?orderStatus="+this.orderStatus+"&currentPage="+this.currentPage+"&pageSize="+this.pageSize;e.ajaxDataFun("post",a,function(a){if("200"==a.code)if(t){var s=a.data.length;if(s){for(var i=0;i<s;i++)e.orderList.push(a.data[i]);e.$set(e.$data,"orderList",e.orderList)}else e.endListen=!0,e.$store.state.loadingTxt=""}else e.orderList=a.data})},changestatus:function(t){this.currentPage=1,this.active=t,this.$store.state.orderTabActive=t,this.orderStatus=t,this.getList()},updateStatus:function(t){var e=this,a="/wechatecom/appserver/order/updateStatus?orderId="+t+"&orderStatus=08";e.ajaxDataFun("post",a,function(t){"200"==t.code&&(s.a.show("icon-success","已确认收货"),e.getList())})}},mounted:function(){var t,e,a=this,s=document.getElementById("container"),i=s.clientHeight;s.addEventListener("scroll",function(){t=s.scrollTop,e=s.scrollHeight,t+i==e&&(a.endListen||(a.currentPage++,a.getList(1)),console.log(a.currentPage))})}}},ELNT:function(t,e,a){"use strict";var s=a("dbJu"),i=a.n(s),r=a("HFN4"),n=a.n(r),o=function(){function t(){i()(this,t)}return n()(t,[{key:"createPop",value:function(t,e,a){document.querySelectorAll(".popMin").length&&this.delete();var s=document.createElement("div");return s.className="popMin animated "+a,s.innerHTML='<span class="icon_imp '+t+'" ></span><p class="txt">'+e+"</p>",s}},{key:"show",value:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.createPop(t,e,s);i.classList.add("fadeIn"),document.body.appendChild(i),setTimeout(function(){a.close()},2e3)}},{key:"close",value:function(){for(var t=this,e=document.querySelectorAll(".popMin"),a=0;a<e.length;a++){var s=e[a];s.classList.remove("fadeIn"),s.classList.add("fadeOut")}setTimeout(function(){t.delete()},1e3)}},{key:"delete",value:function(){for(var t=document.querySelectorAll(".popMin"),e=0;e<t.length;e++){var a=t[e];a.parentNode.removeChild(a)}}}]),t}();e.a=new o},HFN4:function(t,e,a){"use strict";e.__esModule=!0;var s=a("HmUy"),i=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,i.default)(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}()},HmUy:function(t,e,a){t.exports={default:a("kYqm"),__esModule:!0}},Pexp:function(t,e,a){"use strict";var s=a("t/3t"),i=a("pDxG"),r=a("mPyB"),n=r(s.a,i.a,!1,null,null,null);e.a=n.exports},Pkmh:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bgf",attrs:{id:"container"}},[s("v-title",[t._v(" "+t._s(t.pageTitle))]),t._v(" "),s("div",{staticClass:"orderFilter"},[s("ul",{staticClass:"clearfix"},[s("li",{class:{active:""==t.active},on:{click:function(e){t.changestatus("")}}},[t._v("\n                    全部\n                ")]),t._v(" "),s("li",{class:{active:"00"==t.active},on:{click:function(e){t.changestatus("00")}}},[t._v("\n                    待付款\n                ")]),t._v(" "),s("li",{class:{active:"01"==t.active},on:{click:function(e){t.changestatus("01")}}},[t._v("\n                    待发货\n                ")]),t._v(" "),s("li",{class:{active:"02"==t.active},on:{click:function(e){t.changestatus("02")}}},[t._v("\n                    已发货\n                ")]),t._v(" "),s("li",{class:{active:"08"==t.active},on:{click:function(e){t.changestatus("08")}}},[t._v("\n                    已完成\n                ")])])]),t._v(" "),t._l(t.orderList,function(e){return 0!=t.orderList.length?s("div",{staticClass:"orderList "},[s("div",{staticClass:"orderItem"},[s("router-link",{staticClass:"orderListTop",attrs:{to:{path:"orderDetails",query:{id:e.id,batchNo:e.batchNo}}}},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"orderNum"},[t._v("订单编号"+t._s(e.sn))]),t._v(" "),"00"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("待付款")]):t._e(),t._v(" "),"01"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("待发货")]):t._e(),t._v(" "),"02"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("已发货")]):t._e(),t._v(" "),"10"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("部分发货")]):t._e(),t._v(" "),"03"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("部分退货")]):t._e(),t._v(" "),"04"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("已退货")]):t._e(),t._v(" "),"05"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("部分退款")]):t._e(),t._v(" "),"06"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("已退款")]):t._e(),t._v(" "),"08"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("已完成")]):t._e(),t._v(" "),"09"==e.orderStatus?s("div",{staticClass:"orderStatu"},[t._v("已取消")]):t._e()])]),t._v(" "),t._l(e.orderItems,function(a){return s("router-link",{staticClass:"orderListInfo justify",attrs:{to:{path:"orderDetails",query:{id:e.id,batchNo:e.batchNo,sn:e.sn}}}},[s("div",{staticClass:"img box"},[s("img",{attrs:{src:a.thumbnail,alt:""}})]),t._v(" "),s("div",{staticClass:"des box"},[s("b",[""!=a.productMark?s("i",[t._v(t._s(a.productMark))]):t._e(),t._v("\n                            "+t._s(a.fullName)+"\n                        ")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.specDesc,expression:"shop.specDesc"}]},[t._v("规格："+t._s(a.specDesc))]),t._v(" "),s("div",{staticClass:"price clearfix"},[s("p",[t._v("¥"+t._s(a.price)+" \n                                "),"0"===a.status?s("i",[t._v("待审核")]):t._e(),t._v(" "),"1"===a.status?s("i",[t._v("拒绝退款")]):t._e(),t._v(" "),"2"===a.status?s("i",[t._v("退款成功")]):t._e(),t._v(" "),"7"===a.status?s("i",[t._v("请退货并填写物流信息")]):t._e(),t._v(" "),"8"===a.status?s("i",[t._v("同意退款")]):t._e(),t._v(" "),"4"===a.status?s("i",[t._v("拒绝退货")]):t._e(),t._v(" "),"5"===a.status?s("i",[t._v("确认收货")]):t._e(),t._v(" "),"6"===a.status?s("i",[t._v("退款关闭")]):t._e()]),t._v(" "),s("span",[t._v("x"+t._s(a.quantity))])])])])}),t._v(" "),s("div",{staticClass:"orderListbottom"},[s("div",{staticClass:"justify"},[s("router-link",{staticClass:"box total",attrs:{to:{path:"orderDetails",query:{id:e.id,batchNo:e.batchNo}}}},[s("span",[t._v("合计")]),t._v(" "),s("span",{staticClass:"minIconM"},[t._v("¥")]),t._v(" "+t._s(e.paymentAmount)+"\n                        ")]),t._v(" "),s("div",{staticClass:"box"},["00"==e.orderStatus?s("div",{staticClass:"btnStatu",on:{click:function(a){t.changeOrderId(e.id)}}},[t._v("付款")]):t._e(),t._v(" "),"02"==e.orderStatus||"10"==e.orderStatus?s("div",{staticClass:"nobgBtn"},[s("router-link",{attrs:{to:{path:"logistics",query:{id:e.batchNo}}}},[t._v("查看物流")])],1):t._e(),t._v(" "),"02"==e.orderStatus?s("div",{staticClass:"nobgBtn",on:{click:function(a){t.updateStatus(e.id)}}},[t._v("确认收货")]):t._e()])],1)])],2)]):t._e()}),t._v(" "),0==t.orderList.length?s("div",{staticClass:"popNotCart"},[s("div",{staticClass:"content"},[s("img",{attrs:{src:a("rZav"),alt:""}}),t._v(" "),s("p",[t._v("WORD天!怎么没订单!?")]),t._v(" "),s("span",[s("router-link",{attrs:{to:{path:"/"}}},[t._v(" 去逛逛 ")])],1)])]):t._e(),t._v(" "),s("payOrder",{directives:[{name:"show",rawName:"v-show",value:t.showPayPop,expression:"showPayPop"}],attrs:{orderId:t.orderId},on:{closePop:function(e){t.showPayPop=!1}}})],2)},i=[],r={render:s,staticRenderFns:i};e.a=r},dbJu:function(t,e,a){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},kYqm:function(t,e,a){a("62Nr");var s=a("ZBPP").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},pDxG:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._e()},i=[],r={render:s,staticRenderFns:i};e.a=r},rZav:function(t,e,a){t.exports=a.p+"dist/img/notorder.084972e.png"},"t/3t":function(t,e,a){"use strict";e.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var e=t[0].text;e!==document.title&&(document.title=e)}}}}},wiLv:function(t,e,a){"use strict";var s=a("C/he");a.n(s),a("E7z3");e.a={data:function(){return{payMethod:"",appId:"",timeStamp:"",nonceStr:"",signType:"",paySign:"",isWechat:!1,aliPayHtml:"",tradeNo:""}},props:["orderId"],created:function(){this.isWeChatF(),this.getPayMethods()},methods:{closePop:function(){this.$emit("closePop")},getPayMethods:function(){var t=this;this.ajaxDataFun("post","/wechatecom/appserver/order/paymentMethods.do",function(e){"200"==e.code&&(t.payMethod=e.data)})},isWeChatF:function(){var t=this;"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?t.isWechat=!0:t.isWechat=!1},payFun:function(t,e){var a=this,s=a.$refs.aliPay,i=window.location.href;if("alipay"==e){var r="/wechatecom/appserver/payment/aliPaySign.do?payMethodId="+t+"&orderIds="+a.orderId.toString();this.ajaxDataFun("post",r,function(t){a.aliPayHtml=t,a.$nextTick(function(){s.querySelector("form")&&s.querySelector("form").submit()})},1)}else if("wxpay"==e)if(a.isWechat){var n=a.$store.state.wxOpenId||localStorage.getItem("wxOpenId"),o="/wechatecom/appserver/payment/wxOpenIdPaySign.do?openId="+n+"&payMethodId="+t+"&orderIds="+this.orderId.toString();this.ajaxDataFun("post",o,function(t){if("200"==t.code){var e=t.data;a.appId=e.appId,a.timeStamp=e.timeStamp,a.nonceStr=e.nonceStr,a.package=e.package,a.signType=e.signType,a.paySign=e.paySign,a.tradeNo=e.tradeNo,"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("wx.WeixinJSBridgeReady",a.onBridgeReady(e),!1):document.attachEvent&&(document.attachEvent("wx.WeixinJSBridgeReady",a.onBridgeReady(e)),document.attachEvent("onwx.WeixinJSBridgeReady",a.onBridgeReady(e))):a.onBridgeReady(e)}})}else{var c="/wechatecom/appserver/payment/wxPaySign.do?payMethodId="+t+"&orderIds="+this.orderId.toString();this.ajaxDataFun("post",c,function(t){if("200"==t.code){var e=t.data,a="",s="";s=i.indexOf("/shop/")>-1?window.location.protocol+"//"+window.location.host+"/wechatecom/h5/shop/shop.html#/paySuccess?isWechat=1&tradeNo="+e.tradeNo:window.location.protocol+"//"+window.location.host+"/shop.html#/paySuccess?isWechat=1&tradeNo="+e.tradeNo,a=e.mwebUrl+"&redirect_url="+encodeURIComponent(s),window.location.href=a}})}},onBridgeReady:function(t){console.log("微信自带==ddd");var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},function(t){console.log(t),"get_brand_wcpay_request:ok"==t.err_msg?e.$router.push("/paySuccess?tradeNo="+e.tradeNo):(e.$store.state.orderTabActive="00",e.$router.push("/center/orderList"))})}}}}});
//# sourceMappingURL=12.67a237f04bdabd502f2f.js.map