webpackJsonp([12],{"+T4H":function(t,e,s){t.exports=!s("A4ra")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+kcP":function(t,e){var s=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},"4g3j":function(t,e,s){"use strict";var i=s("Pexp"),n=s("E7z3"),o=s("BYbf"),a=s("wC/b");e.a={data:function(){return{pageTitle:"小煮集市",colNumSh:"",searchVal:"",searchVal_back:"",showLabel:!1,isValue:!0,isEnter:!0,postChildCook:"",dataList:"",remDataList:"",noRemd:"",currentPage:1,pageSize:20,sortType:0,noResult:!1,showPop:!1,sortTxt:"综合排序",showUl:!1,showFilter:!0,isFixed:!1,isEnd:!1,endListen:!1,inputFocus:!1}},components:{VTitle:i.a,hotSearchPop:o.a,shopList:a.a},created:function(){this.colNumSh=localStorage.getItem("colNumSh")||"2",this.searchVal="",this.searchVal_back=this.$store.state.hotTxt,this.getSearchCkFun()},methods:{togColNum:function(t){this.colNumSh=t,localStorage.setItem("colNumSh",t)},entInput:function(){this.isEnter=!0,this.showUl=!1},outInput:function(){this.showLabel=!0},enterLabel:function(){this.showLabel=!1,this.inputFocus=!0,this.$refs.input.focus()},clearInput:function(){this.searchVal="",this.isValue=!1,this.showLabel=!1,this.noResult&&(this.noResult=!1,this.showFilter=!1)},searchFun:function(){this.currentPage=1,this.searchVal||(this.searchVal=this.$store.state.hotTxt),this.searchVal_back=this.searchVal,this.isEnter=!1;var t=localStorage.getItem("hisSearch")+","+this.searchVal;localStorage.setItem("hisSearch",t),this.getSearchCkFun(),this.shopListFun(this.searchVal,this.sortType),this.getRecomd()},cancelSearch:function(){this.$router.go(-1)},childGetValue:function(t){this.currentPage=1,this.isEnter=!1,this.searchVal=t,this.searchVal_back=t,this.getRecomd(),this.shopListFun(t,this.sortType)},clearShCookie:function(){localStorage.removeItem("hisSearch"),this.postChildCook=""},getSearchCkFun:function(){var t=localStorage.getItem("hisSearch");t&&(this.postChildCook=t.split(","),console.log("====="),console.log(this.postChildCook),this.postChildCook=n.a.uniqueArr(this.postChildCook).reverse())},getRecomd:function(){var t=this,e="/api/product/recommendForYou.do?name="+t.searchVal;this.ajaxDataFun("post",e,function(e){console.log("请求为您推荐"),"200"==e.code&&(0==e.data.length?t.noRemd=!0:t.noRemd=!1,t.remDataList=e.data)})},shopListFun:function(t,e,s){var i=this;i.endListen=!1;var n="/api/product/search.do?name="+t+"&currentPage="+this.currentPage+"&pageSize="+this.pageSize+"&sortType="+e;this.ajaxDataFun("post",n,function(t){if("200"==t.code){var e=t.data.length;if(e<i.pageSize&&(i.isEnd=!0),s)if(e){for(var n=0;n<e;n++)i.dataList.push(t.data[n]);i.$set(i.$data,"dataList",i.dataList)}else i.endListen=!0,i.$store.state.loadingTxt="";else 0==e?(i.noResult=!0,i.isEnd=!0):(i.noResult=!1,i.showFilter=!0),i.dataList=t.data}})},showSort:function(){this.showUl=!this.showUl},postSortFun:function(t,e){this.currentPage=1,this.isEnd=!1,this.sortType=t,this.sortTxt=e,this.showUl=!1,this.searchVal?this.shopListFun(this.searchVal,t):this.shopListFun(this.searchVal_back,t)},hideSortFun:function(){this.showUl=!1},removeArr:function(t,e){var s=t.indexOf(e);s>-1&&t.splice(s,1)}},mounted:function(){var t,e,s=this,i=document.getElementById("container"),n=i.clientHeight;i.addEventListener("scroll",function(){t=i.scrollTop,e=i.scrollHeight,s.isFixed=t>=44,t+n==e&&(s.endListen||(s.currentPage++,s.searchVal?s.shopListFun(s.searchVal,s.sortType,1):s.shopListFun(s.searchVal_back,s.sortType,1)),console.log(s.currentPage))})},watch:{searchVal:function(){""==this.searchVal.trim()||0==this.searchVal.length?(this.isValue=!1,this.searchVal=""):this.isValue=!0}},computed:{filterItems:function(){return this.removeArr(this.postChildCook,"null"),this.postChildCook.slice(0,50)}},filters:{nomore:function(t){return t.length>6?t.slice(0,5)+"...":t}}}},"68dh":function(t,e,s){t.exports=!s("+T4H")&&!s("A4ra")(function(){return 7!=Object.defineProperty(s("ZsfF")("div"),"a",{get:function(){return 7}}).a})},A4ra:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},BYbf:function(t,e,s){"use strict";var i=s("UM+Y"),n=s("SBOJ"),o=s("Z0/y"),a=o(i.a,n.a,!1,null,null,null);e.a=a.exports},G4V1:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._e()},n=[],o={render:i,staticRenderFns:n};e.a=o},ISj3:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"container"}},[i("v-title",[t._v(" "+t._s(t.pageTitle)+" ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showUl,expression:"showUl"}],staticClass:"popBg",on:{click:t.hideSortFun}}),t._v(" "),i("div",{class:{scrollFixed:t.isFixed},attrs:{id:"top"}},[i("div",{staticClass:"searchBar justify"},[i("div",{staticClass:"search box",class:{min:t.isEnter}},[i("label",{staticClass:"icon-search"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],ref:"input",attrs:{type:"text",placeholder:this.$store.state.hotTxt},domProps:{value:t.searchVal},on:{focus:function(e){t.entInput()},blur:function(e){t.outInput()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.searchFun()},input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.searchVal,expression:"searchVal"}],staticClass:"close",on:{click:function(e){t.clearInput()}}},[i("img",{attrs:{src:s("ZVGX"),alt:""}})]),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.showLabel,expression:"showLabel"}],staticClass:"txt",on:{click:function(e){t.enterLabel()}}},[t._v("   \n                    "+t._s(t.searchVal)+"\n                ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isValue&&t.isEnter,expression:"isValue && isEnter"}],staticClass:"searchBtn box",on:{click:function(e){t.searchFun()}}},[t._v("搜索")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isValue&&t.isEnter,expression:"!isValue && isEnter"}],staticClass:"searchBtn box",on:{click:function(e){t.cancelSearch()}}},[t._v("取消")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noResult&&t.showFilter,expression:"!noResult && showFilter"}],staticClass:"filterWrap "},[i("div",{staticClass:"menu"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.colNumSh,expression:"colNumSh == 1"}],staticClass:"menu icon-menu",on:{click:function(e){t.togColNum(2)}}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:2==t.colNumSh,expression:"colNumSh == 2"}],staticClass:"menu icon-btn_liebiao",on:{click:function(e){t.togColNum(1)}}})]),t._v(" "),i("div",{staticClass:"tagContent"},[i("div",{staticClass:"tagArea"},[i("div",{staticClass:"name",class:{active:t.showUl},on:{click:t.showSort}},[t._v(t._s(t.sortTxt))])]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showUl,expression:"showUl"}]},[i("li",{class:{active:0==t.sortType},on:{click:function(e){t.postSortFun(0,"综合排序")}}},[t._v("\n                        综合排序 \n                        "),i("span",{staticClass:"icon-gou"})]),t._v(" "),i("li",{class:{active:1==t.sortType},on:{click:function(e){t.postSortFun(1,"价格由低到高")}}},[t._v("\n                        价格由低到高 \n                        "),i("span",{staticClass:"icon-gou"})]),t._v(" "),i("li",{class:{active:2==t.sortType},on:{click:function(e){t.postSortFun(2,"价格由高到低")}}},[t._v("\n                        价格由高到低 \n                        "),i("span",{staticClass:"icon-gou"})])])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.noResult,expression:"noResult"}],staticClass:"noGoods"},[t._v("\n        您搜索的“"+t._s(t._f("nomore")(t.searchVal))+"”没有相关商品\n    ")]),t._v(" "),i("shopList",{class:{paddingTop84:t.isFixed},attrs:{dataList:t.dataList,col:t.colNumSh}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noRemd,expression:"!noRemd"}],staticClass:"section",staticStyle:{"margin-top":"30px"},attrs:{id:"searchRemd"}},[i("h2",{staticStyle:{"font-size":"16px"}},[t._v("为您推荐")]),t._v(" "),i("shopList",{attrs:{dataList:t.remDataList,col:"2"}})],1),t._v(" "),i("hotSearchPop",{directives:[{name:"show",rawName:"v-show",value:t.isEnter,expression:"isEnter"}],attrs:{postChildCook:t.filterItems},on:{childFun:t.childGetValue,childFunTwo:t.clearShCookie}})],1)},n=[],o={render:i,staticRenderFns:n};e.a=o},NYhm:function(t,e,s){var i=s("+kcP"),n=s("TF39"),o=s("ashN"),a=s("gBD/"),r=s("kJAX"),c=function(t,e,s){var u,l,h,p=t&c.F,d=t&c.G,f=t&c.S,v=t&c.P,m=t&c.B,g=t&c.W,_=d?n:n[e]||(n[e]={}),w=_.prototype,C=d?i:f?i[e]:(i[e]||{}).prototype;d&&(s=e);for(u in s)(l=!p&&C&&void 0!==C[u])&&r(_,u)||(h=l?C[u]:s[u],_[u]=d&&"function"!=typeof C[u]?s[u]:m&&l?o(h,i):g&&C[u]==h?function(t){var e=function(e,s,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,s)}return new t(e,s,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):v&&"function"==typeof h?o(Function.call,h):h,v&&((_.virtual||(_.virtual={}))[u]=h,t&c.R&&w&&!w[u]&&a(w,u,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},OCEQ:function(t,e,s){"use strict";e.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var e=t[0].text;e!==document.title&&(document.title=e)}}}}},Pexp:function(t,e,s){"use strict";var i=s("OCEQ"),n=s("G4V1"),o=s("Z0/y"),a=o(i.a,n.a,!1,null,null,null);e.a=a.exports},SBOJ:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popSearch"},[t._m(0),t._v(" "),s("ul",t._l(t.hotSearch,function(e){return s("li",{on:{click:function(s){t.postValue(e)}}},[t._v("\n\t\t\t"+t._s(e)+"\n\t\t")])})),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"title"},[s("p",[t._v("最近搜索")]),t._v(" "),s("span",{on:{click:t.clearSCK}},[t._v("清除")])]),t._v(" "),s("ul",t._l(t.postChildCook,function(e){return s("li",{on:{click:function(s){t.postValue(e)}}},[t._v("\n\t\t\t"+t._s(e)+"\n\t\t")])}))])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("p",[t._v("大家都在搜")])])}],o={render:i,staticRenderFns:n};e.a=o},TF39:function(t,e){var s=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=s)},"UM+Y":function(t,e,s){"use strict";s("E7z3");e.a={data:function(){return{pageTitle:"热门搜索",hotSearch:["蛋糕","甜点","肉","虾"]}},components:{},props:["postChildCook"],created:function(){},methods:{postValue:function(t){this.$emit("childFun",t)},clearSCK:function(){this.$emit("childFunTwo")}}}},XA92:function(t,e,s){var i=s("m1QJ");t.exports=function(t,e){if(!i(t))return t;var s,n;if(e&&"function"==typeof(s=t.toString)&&!i(n=s.call(t)))return n;if("function"==typeof(s=t.valueOf)&&!i(n=s.call(t)))return n;if(!e&&"function"==typeof(s=t.toString)&&!i(n=s.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},ZVGX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAAzZJREFUWAnFmL9OG0EQxs9nBHLhxsgygtLYlijSWC7zAiRR2pR5BpSQPEICEW8QKWXaKAkvQOkuBZKxKUEgC0uIwjKS7cxvdXO6W27tOxOHkdb7b2a+b2f3bvac8zLI+fl5bTwev55MJs/FbEvKppR1KTdSLqVc+L5/ks/nf1Sr1a70U0luntZ0Os13Op23uVxuT9o78/R1XvRPRf+o0Wh8k/ZYx5PqmSTOzs5eiKODLOA2CGSk7Nfr9d/2nPYTSQioL6v/JErvVfEf1IcSlY9CaGL7ekCi3+8XB4PBdyGyays/ti8Ejkul0ptyuXwX9eVHO0RgWQTAYWGB/xhurCNb8HkZEbAWuhtsdTgcbgeHUB69X+HMkhvyKL/Uw2oiIavPSzlw4Y5GI+/uLraNLtVwHH3sXAIeuMyv8MN7QKrEdwCO2u02++lVKhVP2GMyUySq3vX1tScH0Wu1Wt7a2toDffG3E+B+NZEQ5b0HWsHA/f29IUAXx93u7Bch8+ghEMfeJYrr8yqGlUuxWCyaCOj81dWVkwgEmFchcti7BFzwfXKBS0nH2YKNjQ3tGiA7IjYB9NNsHfgrQTIKAVyNWq1mpnSlWm9vb3u9Xi8WAQiovsufjoPPwSQbphJ1rASob29vveFwGNpnIRAYbXEwScepBSLRrXkkAXA3IcF9IJOwBYVCIWZDn/EFZB0SXEgyCWcgGgGM6TO+gNxAghtRarGfgmhEOCP2U5PC8SUkLlIoGhWbAGej2WzGzsgCRLgS+idpSCQR4JDyarYPaxYi4PtcSueRIBfgWCXpMUwigt08Ad/nViyrOXUpkw01F6CTREBtbSLYzcq+4ILPmSDRHKkju15dXTUhZ5xcANAsYR49hK3C3iWKay410slL6P6QUJIMSOdkw1nJyLYjAhBISuPoEgXJLc+kHptI0JCybzvSPo6yEMAOfRcB5sEDl7YhQUNY8V1wSPs/yGGAZ6DCOyY92Q5ftuWn1LvLIiKrPxYCr6QOvz/CSADKBN8FKC6DBH4D/yEBg5sERkS4/svcu6T5Bce+yBfYh2gE1E9sO3RQa9map/sWVRLUEpWn/SqPkqG9rP8n/gLyYbuDCok/MAAAAABJRU5ErkJggg=="},ZmB2:function(t,e,s){var i=s("NYhm");i(i.S+i.F*!s("+T4H"),"Object",{defineProperty:s("bfYp").f})},ZsfF:function(t,e,s){var i=s("m1QJ"),n=s("+kcP").document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},a3Yh:function(t,e,s){"use strict";e.__esModule=!0;var i=s("liLe"),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,s){return e in t?(0,n.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},ashN:function(t,e,s){var i=s("qfPT");t.exports=function(t,e,s){if(i(t),void 0===e)return t;switch(s){case 1:return function(s){return t.call(e,s)};case 2:return function(s,i){return t.call(e,s,i)};case 3:return function(s,i,n){return t.call(e,s,i,n)}}return function(){return t.apply(e,arguments)}}},bfYp:function(t,e,s){var i=s("ymHI"),n=s("68dh"),o=s("XA92"),a=Object.defineProperty;e.f=s("+T4H")?Object.defineProperty:function(t,e,s){if(i(t),e=o(e,!0),i(s),n)try{return a(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[e]=s.value),t}},cwhd:function(t,e,s){s("ZmB2");var i=s("TF39").Object;t.exports=function(t,e,s){return i.defineProperty(t,e,s)}},dfUR:function(t,e,s){"use strict";var i=s("a3Yh"),n=s.n(i);e.a={name:"shopList",data:function(){var t,e,s;return{dataList:[(t={id:"21595",productWareId:"1143",quantity:5,image:"https://testddc.oss-cn-hangzhou.aliyuncs.com/production/ecom/images/20171127/eb1cdd0c-e1cf-4e7f-9652-ab4b3574539d"},n()(t,"id","888"),n()(t,"name","花牛苹果-1"),n()(t,"productMark","特惠"),n()(t,"costPrice",""),n()(t,"promotion",""),n()(t,"specList",""),n()(t,"productWareId","1143"),n()(t,"price",2),n()(t,"isValid",!0),n()(t,"stockOver",!1),n()(t,"freightPrice",""),n()(t,"specDesc","1只 / 甜蜜蜜超级超级甜 / 800g / 菱形"),n()(t,"stock",10),t),(e={id:"21595",productWareId:"1143",quantity:5,image:"https://testddc.oss-cn-hangzhou.aliyuncs.com/production/ecom/images/20171127/eb1cdd0c-e1cf-4e7f-9652-ab4b3574539d"},n()(e,"id","888"),n()(e,"name","花牛苹果-2"),n()(e,"productMark","售罄"),n()(e,"costPrice",""),n()(e,"promotion",""),n()(e,"specList",""),n()(e,"productWareId","1143"),n()(e,"price",1),n()(e,"isValid",!0),n()(e,"stockOver",!1),n()(e,"freightPrice",""),n()(e,"specDesc","1只 / 甜蜜蜜超级超级甜 / 800g / 菱形"),n()(e,"stock",10),e),(s={id:"21595",productWareId:"1143",quantity:5,image:"https://testddc.oss-cn-hangzhou.aliyuncs.com/production/ecom/images/20171127/eb1cdd0c-e1cf-4e7f-9652-ab4b3574539d"},n()(s,"id","888"),n()(s,"name","花牛苹果-3"),n()(s,"productMark","拼团"),n()(s,"costPrice",""),n()(s,"promotion",""),n()(s,"specList",""),n()(s,"productWareId","1143"),n()(s,"price",1),n()(s,"isValid",!0),n()(s,"stockOver",!1),n()(s,"freightPrice",""),n()(s,"specDesc","1只 / 甜蜜蜜超级超级甜 / 800g / 菱形"),n()(s,"stock",10),s)]}},props:["col"],created:function(){},methods:{}}},"gBD/":function(t,e,s){var i=s("bfYp"),n=s("yyor");t.exports=s("+T4H")?function(t,e,s){return i.f(t,e,n(1,s))}:function(t,e,s){return t[e]=s,t}},kJAX:function(t,e){var s={}.hasOwnProperty;t.exports=function(t,e){return s.call(t,e)}},lJF1:function(t,e,s){t.exports=s.p+"dist/img/error.e15f37f.png"},liLe:function(t,e,s){t.exports={default:s("cwhd"),__esModule:!0}},m1QJ:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},pPcS:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goodsList",class:{threeCol:3==t.col,twoCol:2==t.col,oneCol:1==t.col}},[t._l(t.dataList,function(e){return i("router-link",{staticClass:"box",attrs:{to:{path:"shopDetails",query:{id:e.id}}}},[i("div",{staticClass:"img"},[e.image?[i("img",{attrs:{src:e.image,alt:""}})]:[i("img",{attrs:{src:s("lJF1"),alt:""}})],t._v(" "),"售罄"==e.productMark?i("span",[t._v(t._s(e.productMark))]):t._e(),t._v(" "),"新品"==e.productMark?i("em",[t._v(t._s(e.productMark))]):t._e(),t._v(" "),"特惠"==e.productMark?i("i",[t._v(t._s(e.productMark))]):t._e(),t._v(" "),"拼团"==e.productMark?i("i",[t._v(t._s(e.productMark))]):t._e()],2),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"sale"},[i("em",[t._v("¥")]),t._v(t._s(e.price))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.costPrice,expression:"item.costPrice"}],staticClass:"discount"},[t._v("¥"+t._s(e.costPrice))]),t._v(" "),i("span",{staticClass:"cart icon-cart"})])])}),t._v(" "),i("p",{staticClass:"isLoading"},[t._v(" "+t._s(t.$store.state.loadingTxt))])],2)},n=[],o={render:i,staticRenderFns:n};e.a=o},qfPT:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},vCr1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("4g3j"),n=s("ISj3"),o=s("Z0/y"),a=o(i.a,n.a,!1,null,null,null);e.default=a.exports},"wC/b":function(t,e,s){"use strict";var i=s("dfUR"),n=s("pPcS"),o=s("Z0/y"),a=o(i.a,n.a,!1,null,null,null);e.a=a.exports},ymHI:function(t,e,s){var i=s("m1QJ");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},yyor:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}}});
//# sourceMappingURL=12.a0a130015f6770988caa.js.map