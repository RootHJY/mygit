webpackJsonp([5],{"62Nr":function(t,s,e){var i=e("5I2C");i(i.S+i.F*!e("eOPJ"),"Object",{defineProperty:e("8tNu").f})},"9MuD":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("So0Z"),a=e("qZF/"),o=e("mPyB"),n=o(i.a,a.a,!1,null,null,null);s.default=n.exports},BEi2:function(t,s,e){var i=e("qAJy"),a=e("OOMP");t.exports=e("ZBPP").getIterator=function(t){var s=a(t);if("function"!=typeof s)throw TypeError(t+" is not iterable!");return i(s.call(t))}},BsPA:function(t,s,e){"use strict";var i=e("UDVl"),a=e("WwQ6"),o=e("mPyB"),n=o(i.a,a.a,!1,null,null,null);s.a=n.exports},ELNT:function(t,s,e){"use strict";var i=e("dbJu"),a=e.n(i),o=e("HFN4"),n=e.n(o),r=function(){function t(){a()(this,t)}return n()(t,[{key:"createPop",value:function(t,s,e){document.querySelectorAll(".popMin").length&&this.delete();var i=document.createElement("div");return i.className="popMin animated "+e,i.innerHTML='<span class="icon_imp '+t+'" ></span><p class="txt">'+s+"</p>",i}},{key:"show",value:function(t,s){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.createPop(t,s,i);a.classList.add("fadeIn"),document.body.appendChild(a),setTimeout(function(){e.close()},2e3)}},{key:"close",value:function(){for(var t=this,s=document.querySelectorAll(".popMin"),e=0;e<s.length;e++){var i=s[e];i.classList.remove("fadeIn"),i.classList.add("fadeOut")}setTimeout(function(){t.delete()},1e3)}},{key:"delete",value:function(){for(var t=document.querySelectorAll(".popMin"),s=0;s<t.length;s++){var e=t[s];e.parentNode.removeChild(e)}}}]),t}();s.a=new r},HFN4:function(t,s,e){"use strict";s.__esModule=!0;var i=e("HmUy"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);s.default=function(){function t(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,a.default)(t,i.key,i)}}return function(s,e,i){return e&&t(s.prototype,e),i&&t(s,i),s}}()},HmUy:function(t,s,e){t.exports={default:e("kYqm"),__esModule:!0}},OOMP:function(t,s,e){var i=e("ca2Z"),a=e("ZpzW")("iterator"),o=e("JR4r");t.exports=e("ZBPP").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||o[i(t)]}},Pexp:function(t,s,e){"use strict";var i=e("t/3t"),a=e("pDxG"),o=e("mPyB"),n=o(i.a,a.a,!1,null,null,null);s.a=n.exports},So0Z:function(t,s,e){"use strict";var i=e("u6qr"),a=e.n(i),o=e("WxFH"),n=e.n(o),r=e("E7z3"),c=e("ELNT"),l=e("BsPA"),u=e("Pexp");s.a={data:function(){var t;return t={pageTitle:"组团详情",pid:"",tid:"",orderId:"",batchNo:"",expireSeconds:"",num:"",joinVos:"",showAll:!1,shopPeople:"",shopTitle:"",tagList:"",image:"",promotion:"",specVals:[],specTxtArr:[],price:"",costPrice:"",minPrice:"",maxPrice:""},n()(t,"specVals",[]),n()(t,"stock",""),n()(t,"productWareId",""),n()(t,"specList",""),n()(t,"specImage",""),n()(t,"quantity",1),n()(t,"isShowPop",!1),n()(t,"isShowChoose",!1),n()(t,"isJoin",""),n()(t,"status",""),n()(t,"shareImg",""),n()(t,"showMore",!1),n()(t,"toShare",!1),n()(t,"fromPay",!1),n()(t,"showAllDiv",!1),t},components:{count:l.a,VTitle:u.a},created:function(){var t=this,s=window.location.href;s.indexOf("fromPay=")>-1&&(this.fromPay=!0),t.pid=r.a.getUrlPars(s).pid,t.tid=r.a.getUrlPars(s).tid,t.orderId=r.a.getUrlPars(s).orderId,t.batchNo=r.a.getUrlPars(s).batchNo,"true"==localStorage.getItem("isLogin")?(console.log("参团页小哥已登录..."),t.$store.state.isLogin=!0,t.getPeople(),t.getDetaisl("")):(console.log("参团页小哥木有登录!!!"),this.$router.push("/shopDetails?id="+this.pid))},methods:{getPeople:function(){var t=this,s="/wechatecom/appserver/order/ptDetail.do?ptCreateId="+this.tid;this.ajaxDataFun("post",s,function(s){if("200"==s.code){t.showAllDiv=!0;var e=s.data;t.expireSeconds=e.expireSeconds,t.num=e.num,t.joinVos=e.joinVos,t.isJoin=e.isJoin,t.status=e.status,t.shareImg=e.ossImagePath}})},getDetaisl:function(t){var s=this,e="/wechatecom/appserver/product/details.do?productId="+this.pid+"&specVals="+t;this.ajaxDataFun("post",e,function(t){if("200"==t.code){var e=t.data;s.shopTitle=e.name,s.tagList=e.tagList,s.price=e.price,s.productSetList=e.productSetList,s.costPrice=e.costPrice,s.minPrice=e.minPrice,s.maxPrice=e.maxPrice,s.stock=e.stock,s.productWareId=e.productWareId,s.image=e.image,s.specImage=e.specImage,s.specList=e.specList,s.promotion=e.promotion,s.shopPeople=e.promotion.ptSuccNum;var i=e.specList.length;if(s.specVals=[],s.specTxtArr=[],i)for(var a=0;a<i;a++){for(var o=0;o<s.specList[a].valueList.length;o++)s.specList[a].valueList[o].isSelected&&(s.specVals[a]=s.specList[a].valueList[o].id,s.specTxtArr[a]=s.specList[a].valueList[o].name);s.specVals[a]||(s.specVals[a]="",s.specTxtArr[a]="")}}})},chooseSpelF:function(t,s,e){if(!e)return void c.a.show("icon-sign","该商品规格暂时缺货");this.quantity=1,this.specVals[t]=s;var i="",o=!0,n=!1,r=void 0;try{for(var l,u=a()(this.specVals);!(o=(l=u.next()).done);o=!0){var v=l.value;""!=v&&(i+=v+",")}}catch(t){n=!0,r=t}finally{try{!o&&u.return&&u.return()}finally{if(n)throw r}}i=i.slice(0,-1),this.getAllData(i)},buyNow:function(){if("0"==this.stock)return void c.a.show("icon-sign","库存不足");if(this.$store.state.orderItems="",this.$store.state.promotionId="",this.$store.state.promotionType="",this.$store.state.ptId="",localStorage.removeItem("orderItems"),localStorage.removeItem("promotionId"),localStorage.removeItem("promotionType"),localStorage.removeItem("ptId"),!this.stock)return void c.a.show("icon-sign","库存不足");var t=this.productWareId+":"+this.quantity;this.$store.state.orderItems=t,this.$store.state.promotionId=this.promotion.id,this.$store.state.ptId=this.tid,this.$store.state.promotionType="pt",localStorage.setItem("orderItems",t),localStorage.setItem("promotionId",this.$store.state.promotionId),localStorage.setItem("tid",this.$store.state.ptId),localStorage.setItem("promotionType","pt"),localStorage.removeItem("orderId"),console.log("billStr="+t),console.log("promotionId="+this.$store.state.promotionId),console.log("ptId="+this.$store.state.ptId),console.log("promotionType="+this.$store.state.promotionType),this.$router.push("/payment")},timeEndF:function(){this.status="1"},cutNumF:function(){this.quantity--},addNumF:function(){this.quantity++}},watch:{quantity:function(){this.quantity=Math.floor(this.quantity),this.quantity<1&&(this.quantity=1),this.quantity>=this.stock&&(this.quantity=this.stock)}},computed:{specTxtStr:function(){var t="",s=!0,e=!1,i=void 0;try{for(var o,n=a()(this.specTxtArr);!(s=(o=n.next()).done);s=!0){var r=o.value;r&&(t+=" / "+r)}}catch(t){e=!0,i=t}finally{try{!s&&n.return&&n.return()}finally{if(e)throw i}}return t.slice(2,t.length)}}}},TBFq:function(t,s,e){e("EcyA"),e("EyoV"),t.exports=e("BEi2")},UDVl:function(t,s,e){"use strict";function i(t){return t=t<10?"0"+t:t}s.a={data:function(){return{st:0,h:"",m:"",s:""}},props:["seconds"],mounted:function(){var t=this;this.st=this.seconds;var s=setInterval(function(){--t.st<=0&&clearInterval(s)},1e3)},watch:{st:function(){var t=this,s=this.st,e=Math.floor(s/60),a=s%60,o=Math.floor(e/60);e%=60;Math.floor(o/24);o%=24,s<=0?(t.h="00",t.m="00",t.s="00",t.$emit("setMsg",!1)):(t.h=i(o),t.m=i(e),t.s=i(a))}},methods:{},filters:{}}},WwQ6:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"time"},[e("span",[t._v(t._s(t.h))]),t._v(":"),e("span",[t._v(t._s(t.m))]),t._v(":"),e("span",[t._v(t._s(t.s))])])},a=[],o={render:i,staticRenderFns:a};s.a=o},WxFH:function(t,s,e){"use strict";s.__esModule=!0;var i=e("HmUy"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);s.default=function(t,s,e){return s in t?(0,a.default)(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}},YpdP:function(t,s,e){t.exports=e.p+"dist/img/logo2.eadc73f.png"},ca2Z:function(t,s,e){var i=e("4zJo"),a=e("ZpzW")("toStringTag"),o="Arguments"==i(function(){return arguments}()),n=function(t,s){try{return t[s]}catch(t){}};t.exports=function(t){var s,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=n(s=Object(t),a))?e:o?i(s):"Object"==(r=i(s))&&"function"==typeof s.callee?"Arguments":r}},dbJu:function(t,s,e){"use strict";s.__esModule=!0,s.default=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}},kYqm:function(t,s,e){e("62Nr");var i=e("ZBPP").Object;t.exports=function(t,s,e){return i.defineProperty(t,s,e)}},pDxG:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement;t._self._c;return t._e()},a=[],o={render:i,staticRenderFns:a};s.a=o},"qZF/":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"bgf noScroll",attrs:{id:"container"}},[i("v-title",[t._v(" "+t._s(t.pageTitle))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAllDiv,expression:"!showAllDiv"}],attrs:{id:"loading"}},[i("img",{attrs:{src:e("YpdP"),alt:"loading"}})]),t._v(" "),i("div",{staticClass:"myWhiteBg  groupDetails"},[i("div",{staticClass:"normal groupInfo"},[i("router-link",{staticClass:"justify",attrs:{to:{path:"shopDetails",query:{id:t.pid}}}},[i("div",{staticClass:"box img"},[i("img",{attrs:{src:t.specImage,alt:""}}),t._v(" "),t.specImage?t._e():i("img",{attrs:{src:t.image,alt:""}})]),t._v(" "),i("div",{staticClass:"box info"},[i("p",[t._v(t._s(t.shopTitle))]),t._v(" "),i("div",{staticClass:"price"},[i("em",[t._v(t._s(t.shopPeople)+"人拼团")]),t._v(" "),i("span",{staticClass:"minIconM"},[t._v("¥")]),t._v(t._s(t.price)+"\n                    ")]),t._v(" "),i("div",{staticClass:"gray"},[t._v("单买价￥"+t._s(t.costPrice))])])])],1),t._v(" "),i("div",{staticClass:"normal joinGroup"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.status,expression:"status == '0'"}],staticClass:"tip justify"},[i("p",{staticClass:"box left"},[t._v("还差"),i("span",[t._v(t._s(t.num))]),t._v("人拼团成功")]),t._v(" "),i("span",{staticClass:"box right"},[t._v("剩余\n                    "),t.expireSeconds?i("count",{staticStyle:{display:"inline-block"},attrs:{seconds:t.expireSeconds},on:{setMsg:t.timeEndF}}):t._e()],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isJoin&&"1"==t.status,expression:"isJoin == '1' && status == '1'"}],staticClass:"tip justify"},[i("p",{staticClass:"box left"},[t._v("赞！已顺利成团")]),t._v(" "),i("span",{staticClass:"box right"},[t._v("商家会尽快为您发货呦")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.isJoin&&"1"==t.status,expression:"isJoin == '0' && status == '1'"}],staticClass:"tip justify"},[i("p",{staticClass:"box left"},[t._v("团长人气太高，已拼团成功啦！")])]),t._v(" "),i("ul",{staticClass:"clearfix",class:{min:t.showAll}},t._l(t.joinVos,function(s){return i("li",[s.image?i("img",{attrs:{src:s.image,alt:""}}):t._e(),t._v(" "),s.image?t._e():i("img",{attrs:{src:e("YpdP"),alt:""}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"0"==s.userType,expression:"item.userType == '0'"}]},[t._v("团长")])])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.joinVos.length>7,expression:"joinVos.length > 7 "}],staticClass:"toggle",on:{click:function(s){t.showAll=!t.showAll}}},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.showAll,expression:"showAll"}],staticClass:"all"},[t._v("全部")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.showAll,expression:"!showAll"}],staticClass:"up"},[t._v("收起")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isJoin&&"0"==t.status&&!t.fromPay,expression:"isJoin == '1' && status == '0' && !fromPay"}],staticClass:"botBtn only"},[i("div",{staticClass:"sureBtn active",on:{click:function(s){t.toShare=!0}}},[t._v("\n            邀请好友参团\n        ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isJoin&&"1"==t.status&&!t.fromPay,expression:"isJoin == '1' && status == '1' && !fromPay"}],staticClass:"botBtn only"},[i("div",{staticClass:"sureBtn active",on:{click:function(s){t.toShare=!0}}},[i("router-link",{attrs:{to:"/list?promotionType=pt"}},[t._v("\n                更多活动商品\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isJoin&&t.fromPay,expression:"isJoin == '1' && fromPay"}],staticClass:"botBtn justify"},[i("div",{staticClass:"box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.status,expression:"status == '1'"}],staticClass:"noBgBtn active"},[i("router-link",{attrs:{to:"/list?promotionType=pt"}},[t._v("\n                    更多活动商品\n                ")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.status,expression:"status == '0'"}],staticClass:"noBgBtn active",on:{click:function(s){t.toShare=!0}}},[t._v("\n                邀请好友参团\n            ")])]),t._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"sureBtn active"},[i("router-link",{attrs:{to:"/center/orderDetails?id="+t.orderId+"&batchNo="+t.batchNo}},[t._v("\n                    查看订单\n                ")])],1)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.isJoin,expression:"isJoin == '0'"}],staticClass:"botBtn only"},[i("router-link",{staticClass:"help",attrs:{to:"/groupRules"}},[i("p",[t._v("拼团玩法")]),t._v(" "),i("span",{staticClass:"icon-help"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.status,expression:"status == '0'"}],staticClass:"sureBtn active",on:{click:function(s){t.isShowPop=!0}}},[t._v("我要参团")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.status,expression:"status == '1'"}],staticClass:"sureBtn active",on:{click:function(s){t.isShowPop=!0}}},[t._v("我要开团")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPop,expression:"isShowPop"}],staticClass:"popBg",on:{click:function(s){t.isShowPop=!1}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPop,expression:"isShowPop"}],staticClass:"popShop"},[i("div",{staticClass:"close icon-close",on:{click:function(s){t.isShowPop=!1}}}),t._v(" "),i("div",{staticClass:"top"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t.specImage,alt:""}}),t._v(" "),t.specImage?t._e():i("img",{attrs:{src:t.image,alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[t._l(t.tagList,function(s){return i("span",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"flag"},[t._v(t._s(s))])}),t._v(" "),i("div",{staticClass:"price"},[i("em",[t._v("¥")]),t._v(t._s(t._f("leftPrice")(t.price))),i("em",[t._v(t._s(t._f("rightPrice")(t.price)))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.costPrice,expression:"costPrice"}]},[t._v("¥"+t._s(t.costPrice))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.specTxtStr.length,expression:"specTxtStr.length != 0"}],staticClass:"txt"},[t._v("已选: "+t._s(t.specTxtStr)+" ")])],2)]),t._v(" "),i("div",{staticClass:"chooseWrap"},t._l(t.specList,function(s,e){return i("div",{staticClass:"chose"},[i("div",{staticClass:"title"},[i("p",[t._v(t._s(s.name))])]),t._v(" "),i("ul",{staticClass:"clearfix"},t._l(s.valueList,function(s,a){return i("li",{class:{active:s.isSelected,blank:!s.retainStock},on:{click:function(i){t.chooseSpelF(e,s.id,s.retainStock)}}},[t._v(t._s(s.name)+"\n                    ")])}))])})),t._v(" "),i("div",{staticClass:"number"},[i("div",{staticClass:"title"},[t._v("数量")]),t._v(" "),i("ul",{staticClass:"add clearfix"},[i("li",{on:{click:t.cutNumF}},[i("span",{class:{blank:1==t.quantity}},[t._v("-")])]),t._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number",value:"1"},domProps:{value:t.quantity},on:{input:function(s){s.target.composing||(t.quantity=s.target.value)}}})]),t._v(" "),i("li",{on:{click:t.addNumF}},[i("span",{class:{blank:t.quantity==t.stock}},[t._v("+")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.stock<11,expression:"stock < 11"}],staticClass:"tip"},[t._v("库存仅剩"+t._s(t.stock)+"件")])]),t._v(" "),i("div",{staticClass:"btn"},[i("div",{staticClass:"sureBtn only",class:{active:"0"!=t.stock},on:{click:t.buyNow}},[t._v("确定")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.toShare,expression:"toShare"}],staticClass:"popBg",on:{click:function(s){t.toShare=!1}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.toShare,expression:"toShare"}],staticClass:"popGroupShare"},[i("div",{staticClass:"close icon-close",on:{click:function(s){t.toShare=!1}}}),t._v(" "),i("img",{attrs:{src:t.shareImg}})])],1)},a=[],o={render:i,staticRenderFns:a};s.a=o},"t/3t":function(t,s,e){"use strict";s.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var s=t[0].text;s!==document.title&&(document.title=s)}}}}},u6qr:function(t,s,e){t.exports={default:e("TBFq"),__esModule:!0}}});
//# sourceMappingURL=5.4f34ee4948cbdb462f4c.js.map