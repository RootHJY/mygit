webpackJsonp([2],{"26nx":function(t,e,i){"use strict";var s=i("ELNT");i("E7z3");e.a={name:"login",data:function(){return{pageTitle:"登陆/注册",loginTxt:"登录",phoneVal:"",codeVal:"",hasPhone:!1,rightPhone:!1,hasCode:!1,rightCode:!1,isgetCode:!1,timeLeng:60,timeTxt:"",timeInt:null,reSend:!1,beginCount:!1,loginType:" ",isWeChat:!0}},created:function(){this.getLoginType()},components:{},props:["isFrom"],methods:{isWeChatFun:function(){"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?this.isWeChat=!0:this.isWeChat=!1,console.log("_this.isWeChat ______"+this.isWeChat)},getLoginType:function(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,i=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.loginType=i?2:e?1:3},getCodeF:function(){var t=this,e="/wechatecom/appserver/login/getCMSRegCode.do?mobile="+t.phoneVal;t.rightPhone?(this.timefunc(),this.ajaxDataFun("post",e,function(e){"200"==e.code?t.isgetCode=!0:"4010"==e.code&&t.countDown()})):t.rightPhone||s.a.show("icon-sign","请填写正确的手机号码")},loginFun:function(){var t=this;t.isWeChatFun(),console.log("_this.isWeChat==="+t.isWeChat),console.log("_this.loginType==="+t.loginType),t.isWeChat?(console.log("微信中登录！"),t.loginInWechat()):(console.log("微信外面登录！"),t.loginOutWechat())},loginInWechat:function(){var t=this,e=t.$store.state.wxUid||localStorage.getItem("wxUid");if(t.rightPhone&&t.rightCode){t.loginTxt="登录中...";var i="/wechatecom/appserver/login/checkUserByPhone.do?mobile="+t.phoneVal+"&uid="+e;this.ajaxDataFun("post",i,function(i){if("200"==i.code){var a="/wechatecom/appserver/login/registeredByPhone.do?mobile="+t.phoneVal+"&uid="+e+"&code="+t.codeVal+"&type="+t.loginType;t.ajaxDataFun("post",a,function(e){"200"==e.code?t.loginSuccess():(s.a.show("icon-sign",e.msg),t.loginTxt="登录")})}else t.loginOutWechat()})}else t.rightPhone?t.isgetCode?t.isgetCode&&!t.rightCode&&(s.a.show("icon-sign","请填写正确的验证码"),t.loginTxt="登录"):(s.a.show("icon-sign","请获取验证码"),t.loginTxt="登录"):(s.a.show("icon-sign","请填写正确的手机号"),t.loginTxt="登录")},loginOutWechat:function(){var t=this;if(t.rightPhone&&t.rightCode){t.loginTxt="登录中...";var e="/wechatecom/appserver/login/registeredByPhone.do?mobile="+t.phoneVal+"&code="+t.codeVal+"&type="+t.loginType;this.ajaxDataFun("post",e,function(e){"200"==e.code?t.loginSuccess():(s.a.show("icon-sign",e.msg),t.loginTxt="登录")})}else t.rightPhone?t.isgetCode?t.isgetCode&&!t.rightCode&&(s.a.show("icon-sign","请填写正确的验证码"),t.loginTxt="登录"):(s.a.show("icon-sign","请获取验证码"),t.loginTxt="登录"):(s.a.show("icon-sign","请填写正确的手机号"),t.loginTxt="登录")},loginSuccess:function(){this.loginTxt="登录",s.a.show("icon-success","登录成功"),this.clearCountF(),localStorage.setItem("isLogin","true"),this.$store.state.isLogin=!0,this.$store.state.isShowLogin=!1,this.getMcartNum(),"1"==this.isFrom&&(console.log("出发11111"),this.$emit("getInfo")),this.$store.state.loginToPage&&this.$router.push(this.$store.state.loginToPage)},countDown:function(){var t=this;console.log("开始倒计时"),t.rightPhone&&--t.timeLeng<=0&&t.clearCountF()},clearCountF:function(){var t=this;t.timeInt&&(clearInterval(t.timeInt),t.timeLeng=60,t.timeInt=null,t.beginCount=!1,t.reSend=!0)},timefunc:function(){this.beginCount=!0,this.reSend=!1,this.timeInt=setInterval(this.countDown,1e3)},getMcartNum:function(){var t=this;this.ajaxDataFun("post","/wechatecom/appserver/cart/getCartSkuCount.do",function(e){"200"==e.code&&(t.$store.state.cartNum=e.data.count,localStorage.setItem("cartNum",e.data.count),console.log(t.$store.state.cartNum))})}},watch:{phoneVal:function(){var t=/^1[34578]\d{9}$/.test(this.phoneVal);this.phoneVal.length>0?this.hasPhone=!0:this.hasPhone=!1,this.rightPhone=!!t},codeVal:function(){this.codeVal.length>0?this.hasCode=!0:this.hasCode=!1,4==this.codeVal.length&&this.isgetCode?this.rightCode=!0:this.rightCode=!1}}}},"62Nr":function(t,e,i){var s=i("5I2C");s(s.S+s.F*!i("eOPJ"),"Object",{defineProperty:i("8tNu").f})},"8oZ7":function(t,e,i){t.exports=i.p+"dist/img/fff.e15f37f.png"},"8uJW":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"paddingBt80",attrs:{id:"container"}},[s("v-title",[t._v(" "+t._s(t.pageTitle))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAllDiv,expression:"!showAllDiv"}],attrs:{id:"loading"}},[s("img",{attrs:{src:i("YpdP"),alt:"loading"}})]),t._v(" "),s("div",{staticClass:"myCart"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"editCart",on:{click:function(e){t.editCartF()}}},[s("span",{staticClass:"icon-edit"}),t._v(" "),s("p",[t._v("编辑购物车")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"editCart",on:{click:function(e){t.editCartF()}}},[s("span",{staticClass:"icon-finish"}),t._v(" "),s("p",[t._v("完成编辑")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.discountTip,expression:"discountTip"}],staticClass:"reduced clearfix"},["mj"==t.discountTip.type?s("span",[t._v("满减")]):t._e(),t._v(" "),s("p",[s("marquee",{attrs:{behavior:"1",direction:"left",loop:"-1"}},[t._v(" \n                    "+t._s(t.discountTip.desc)+"\n                ")])],1),t._v(" "),s("div",{staticClass:"right"},[s("router-link",{attrs:{to:"/list?promotionType="+t.discountTip.type+"&promotionId="+t.discountTip.promotionId}},[t._v(" 去凑单 ")])],1)]),t._v(" "),s("div",{staticClass:"listCart"},t._l(t.itemList,function(e,i){return s("div",{staticClass:"item justify"},[s("label",{staticClass:"choseThis box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIndex,expression:"selectIndex"}],attrs:{type:"checkbox",name:e.index},domProps:{value:e.index,checked:Array.isArray(t.selectIndex)?t._i(t.selectIndex,e.index)>-1:t.selectIndex},on:{change:function(i){var s=t.selectIndex,a=i.target,n=!!a.checked;if(Array.isArray(s)){var o=e.index,c=t._i(s,o);a.checked?c<0&&(t.selectIndex=s.concat([o])):c>-1&&(t.selectIndex=s.slice(0,c).concat(s.slice(c+1)))}else t.selectIndex=n}}})]),t._v(" "),s("div",{staticClass:"orderListInfo box justify"},[s("div",{staticClass:"img box"},[s("router-link",{attrs:{to:{path:"shopDetails",query:{id:e.product.id}}}},[e.product.specImage?s("img",{attrs:{src:e.product.specImage,alt:""}}):t._e(),t._v(" "),e.product.specImage?t._e():s("img",{attrs:{src:e.product.image,alt:""}})])],1),t._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"des box",attrs:{to:{path:"shopDetails",query:{id:e.product.id}}}},[s("b",[e.product.productMark?s("i",[t._v(t._s(e.product.productMark))]):t._e(),t._v(" \n                            "+t._s(e.product.name)+"\n                        ")]),t._v(" "),s("p",[t._v(t._s(e.specDesc))]),t._v(" "),s("div",{staticClass:"price clearfix"},[s("p",[t._v("¥"+t._s(e.price)+"  "),s("i",{directives:[{name:"show",rawName:"v-show",value:e.stockOver,expression:"item.stockOver"}]},[t._v("库存不足")])]),t._v(" "),s("span",{staticClass:"tright"},[t._v("x"+t._s(e.quantity))])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"operating"},[s("editInfo",{attrs:{itemInfo:e},on:{postList:t.childGetValue}}),t._v(" "),s("div",{staticClass:"del",on:{click:function(i){t.delItemF(e.id,e.index)}}},[s("span",{staticClass:"icon-delete"})])],1)],1)])})),t._v(" "),t.invalidItemList?s("div",{staticClass:"listCart ed"},t._l(t.invalidItemList,function(e,a){return s("div",{staticClass:"item justify"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"orderListInfo box justify"},[s("div",{staticClass:"img box"},[s("router-link",{attrs:{to:{path:"shopDetails",query:{id:e.id}}}},[s("img",{attrs:{src:e.product.image,alt:""}}),t._v(" "),e.product.image?t._e():s("img",{attrs:{src:i("8oZ7")}})])],1),t._v(" "),s("router-link",{staticClass:"des box",attrs:{to:{path:"shopDetails",query:{id:e.id}}}},[s("b",[t._v(t._s(e.product.name))]),t._v(" "),s("p",[t._v("规格："+t._s(e.specDesc))]),t._v(" "),s("div",{staticClass:"price clearfix"},[s("p",[t._v("¥"+t._s(e.price)+" ")]),t._v(" "),s("span",[t._v("x"+t._s(e.quantity))])])])],1)])})):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.invalidItemList.length,expression:"invalidItemList.length"}],staticClass:"clearFailure",on:{click:function(e){t.clearInvalid()}}},[t._v(" 清空失效商品 ")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.itemList.length&&!t.invalidItemList.length,expression:"!itemList.length && !invalidItemList.length"}],staticClass:"popNotCart"},[s("router-link",{staticClass:"content",attrs:{to:"/"}},[s("img",{attrs:{src:i("gUMz"),alt:""}}),t._v(" "),s("p",[t._v("购物车快饿瘪了 T.T "),s("br"),t._v(" 快给我挑点宝贝")]),t._v(" "),s("span",[t._v("去逛逛")])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit&&t.itemList.length,expression:"!isEdit && itemList.length "}],staticClass:"popChoose hasFooter justify"},[s("div",{staticClass:"box choseThis"},[s("label",[s("input",{attrs:{type:"checkbox",name:"checkAll"},domProps:{checked:t.itemList.length==t.selectIndex.length},on:{click:t.chooseAllF}}),t._v(" "),s("p",[t._v("全选")])])]),t._v(" "),s("div",{staticClass:"box total"},[s("p",[t._v("合计："),s("b",[t._v(t._s(t.totalPrice))])]),t._v(" "),s("span",[t._v("不含运费")])]),t._v(" "),s("div",{staticClass:"box"},[s("div",{staticClass:"sureBtn",class:{active:t.selectIndex.length>0},on:{click:t.accountF}},[t._v("\n                结算("+t._s(t.selectIndex.length)+")\n            ")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit&&t.itemList.length,expression:"isEdit && itemList.length"}],staticClass:"popChoose justify"},[s("div",{staticClass:"box choseThis"},[s("label",[s("input",{attrs:{type:"checkbox",name:"checkAll2"},domProps:{checked:t.itemList.length==t.selectIndex.length},on:{click:t.chooseAllF}}),t._v(" "),s("p",[t._v("全选")])])]),t._v(" "),s("div",{staticClass:"box rightBtn"},[s("div",{staticClass:"sureBtn",class:{active:t.selectIndex.length>0},on:{click:function(e){t.delMoreF()}}},[t._v("\n                删除("+t._s(t.selectIndex.length)+")\n            ")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPop,expression:"isShowPop"}],staticClass:"popBg",on:{click:function(e){t.isShowPop=!1}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPop,expression:"isShowPop"}],staticClass:"popOr"},[s("div",{staticClass:"tip"},[t._v(t._s(t.delTxt))]),t._v(" "),s("div",{staticClass:"clearfix"},[s("div",{staticClass:"fleft btn",on:{click:function(e){t.isShowPop=!1}}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"fright btn",on:{click:t.sureDelThisF}},[t._v("确认")])])]),t._v(" "),s("footerLay",{attrs:{fIndex:3}}),t._v(" "),s("login")],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"choseThis box"},[i("em",[t._v("失效")])])}],n={render:s,staticRenderFns:a};e.a=n},"9VGH":function(t,e,i){"use strict";var s=i("u6qr"),a=i.n(s),n=i("ELNT");e.a={data:function(){return{pageTitle:"修改购物车信息",isShow:!1,cartId:"",productId:"",quantity:"1",productWareId:"",specVals:[],specTxtArr:[],promotion:"",tagList:[],price:"",costPrice:"",stock:0,specList:"",image:"",specImage:"",timeF:"",specTxtStr:""}},components:{},props:["itemInfo"],created:function(){this.cartId=this.itemInfo.id,this.productId=this.itemInfo.product.id,this.quantity=this.itemInfo.quantity,this.stock=this.itemInfo.stock,this.specTxtStr=this.itemInfo.specDesc},methods:{selectTxt:function(t){t.target.select()},updataQuaF:function(){var t=this,e="/wechatecom/appserver/cart/update.do?cartItemId="+t.cartId+"&quantity="+this.quantity;this.ajaxDataFun("post",e,function(e){"200"==e.code&&t.$emit("postList",e.data.itemList)})},updataWare:function(){if("0"==this.stock)return void n.a.show("icon-sign","库存不足");if(!this.quantity)return void n.a.show("icon-sign","至少选择一件商品");var t=this,e="/wechatecom/appserver/cart/update.do?cartItemId="+this.cartId+"&productWareId="+this.productWareId+"&quantity="+this.quantity;this.ajaxDataFun("post",e,function(e){"200"==e.code&&(t.isShow=!1,t.$emit("postList",e.data.itemList))})},getAllData:function(t){var e=this,i=e.itemInfo;e.isShow=!0,e.productWareId=i.productWareId;var s="";s=t?"/wechatecom/appserver/product/details.do?productId="+e.productId+"&specVals="+t:"/wechatecom/appserver/product/details.do?productId="+e.productId+"&productWareId="+e.productWareId,this.ajaxDataFun("post",s,function(t){if("200"==t.code){var i=t.data;e.promotion=i.promotion,e.tagList=i.tagList,e.price=i.price,e.productWareId=i.productWareId,e.costPrice=i.costPrice,e.stock=i.stock,e.image=i.image,e.specImage=i.specImage,e.specList=i.specList;var s=i.specList.length;if(e.specVals=[],e.specTxtArr=[],e.specTxtStr="",s){for(var n=0;n<s;n++){for(var o=0;o<e.specList[n].valueList.length;o++)e.specList[n].valueList[o].isSelected&&(e.specVals[n]=e.specList[n].valueList[o].id,e.specTxtArr[n]=e.specList[n].valueList[o].name);e.specVals[n]||(e.specVals[n]="",e.specTxtArr[n]="")}var c=!0,r=!1,l=void 0;try{for(var d,u=a()(e.specTxtArr);!(c=(d=u.next()).done);c=!0){var v=d.value;v&&(e.specTxtStr+=" / "+v)}}catch(t){r=!0,l=t}finally{try{!c&&u.return&&u.return()}finally{if(r)throw l}}e.specTxtStr=e.specTxtStr.slice(2,e.specTxtStr.length)}}})},chooseSpelF:function(t,e,i){if(!i)return void n.a.show("icon-sign","该商品规格暂时缺货");this.quantity=1,this.specVals[t]=e;var s="",o=!0,c=!1,r=void 0;try{for(var l,d=a()(this.specVals);!(o=(l=d.next()).done);o=!0){var u=l.value;""!=u&&(s+=u+",")}}catch(t){c=!0,r=t}finally{try{!o&&d.return&&d.return()}finally{if(c)throw r}}s=s.slice(0,-1),this.getAllData(s)},inputF:function(){this.watchNum()},reduceCartNum:function(){this.quantity--,this.watchNum()},addCartNum:function(){this.quantity++,this.watchNum()},watchNum:function(){var t=this;this.quantity=Math.floor(this.quantity),this.quantity<1&&(n.a.show("icon-sign","商品数量至少选择一件"),this.quantity=1),this.quantity>=this.stock&&(n.a.show("icon-sign","商品数量超出库存"),this.quantity=this.stock),this.isShow||(t.timeF&&clearTimeout(t.timeF),t.timeF=setTimeout(t.updataQuaF,2e3))}}}},BEi2:function(t,e,i){var s=i("qAJy"),a=i("OOMP");t.exports=i("ZBPP").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},ELNT:function(t,e,i){"use strict";var s=i("dbJu"),a=i.n(s),n=i("HFN4"),o=i.n(n),c=function(){function t(){a()(this,t)}return o()(t,[{key:"createPop",value:function(t,e,i){document.querySelectorAll(".popMin").length&&this.delete();var s=document.createElement("div");return s.className="popMin animated "+i,s.innerHTML='<span class="icon_imp '+t+'" ></span><p class="txt">'+e+"</p>",s}},{key:"show",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.createPop(t,e,s);a.classList.add("fadeIn"),document.body.appendChild(a),setTimeout(function(){i.close()},2e3)}},{key:"close",value:function(){for(var t=this,e=document.querySelectorAll(".popMin"),i=0;i<e.length;i++){var s=e[i];s.classList.remove("fadeIn"),s.classList.add("fadeOut")}setTimeout(function(){t.delete()},1e3)}},{key:"delete",value:function(){for(var t=document.querySelectorAll(".popMin"),e=0;e<t.length;e++){var i=t[e];i.parentNode.removeChild(i)}}}]),t}();e.a=new c},HFN4:function(t,e,i){"use strict";e.__esModule=!0;var s=i("HmUy"),a=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,a.default)(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}()},HmUy:function(t,e,i){t.exports={default:i("kYqm"),__esModule:!0}},K31e:function(t,e,i){"use strict";var s=i("26nx"),a=i("bn0q"),n=i("mPyB"),o=n(s.a,a.a,!1,null,null,null);e.a=o.exports},OOMP:function(t,e,i){var s=i("ca2Z"),a=i("ZpzW")("iterator"),n=i("JR4r");t.exports=i("ZBPP").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||n[s(t)]}},Pexp:function(t,e,i){"use strict";var s=i("t/3t"),a=i("pDxG"),n=i("mPyB"),o=n(s.a,a.a,!1,null,null,null);e.a=o.exports},PvRl:function(t,e,i){"use strict";var s=i("9VGH"),a=i("VXmO"),n=i("mPyB"),o=n(s.a,a.a,!1,null,null,null);e.a=o.exports},TBFq:function(t,e,i){i("EcyA"),i("EyoV"),t.exports=i("BEi2")},U8YY:function(t,e,i){"use strict";var s=i("u6qr"),a=i.n(s),n=i("ELNT"),o=(i("E7z3"),i("Pexp")),c=i("K31e"),r=i("mzkE"),l=i("PvRl");e.a={data:function(){return{pageTitle:"购物车",chooseAll:!1,isEdit:!1,discountTip:"",itemList:"",invalidItemList:"",invalidArr:[],isShowPop:!1,selectIndex:[],delId:"-1",delIndex:"-1",delIdArr:[],delIdIndex:[],isDelOne:!1,isDelMore:!1,delTxt:"",showAllDiv:!1}},components:{editInfo:l.a,footerLay:r.a,login:c.a,VTitle:o.a},created:function(){this.getMyCart()},methods:{editCartF:function(){this.isEdit=!this.isEdit},getMyCart:function(){var t=this;this.ajaxDataFun("post","/wechatecom/appserver/cart/myCart.do",function(e){if("200"==e.code){t.showAllDiv=!0;var i=e.data;t.discountTip=i.discountTip,t.itemList=i.itemList,t.invalidItemList=i.invalidItemList;var s=t.invalidItemList.length,a=0;for(a;a<s;a++)t.invalidArr.push(i.invalidItemList[a].id)}})},removeArr:function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)},chooseAllF:function(t){var e=this;t.currentTarget.checked?(e.selectIndex=[],e.itemList.forEach(function(t,i){e.selectIndex.push(t.index)})):e.selectIndex=[]},childGetValue:function(t){console.log("反应过来。。。"),this.itemList=t},delItemF:function(t,e){this.isDelOne=!0,this.isDelMore=!1,this.delTxt="确定要删除这个商品吗？",this.isShowPop=!0,this.delId=t,this.delIndex=e},delMoreF:function(){var t=this;this.isDelOne=!1,this.isDelMore=!0,this.selectIndex.length&&(t.delIdArr=[],t.delIdIndex=[],t.delTxt="确定要删除选中的商品吗？",t.isShowPop=!0,t.selectIndex.forEach(function(e,i){var s=!0,n=!1,o=void 0;try{for(var c,r=a()(t.itemList);!(s=(c=r.next()).done);s=!0){var l=c.value;e==l.index&&(t.delIdArr.push(l.id),t.delIdIndex.push(l.index))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}}))},sureDelThisF:function(){this.isShowPop=!1,this.isDelOne&&this.delFun(this.delId),this.isDelMore&&this.delFun(this.delIdArr)},delFun:function(t){var e=this,i="";e.isDelOne&&(i="/wechatecom/appserver/cart/delete.do?cartItemIds="+t),e.isDelMore&&(i="/wechatecom/appserver/cart/delete.do?cartItemIds="+t.toString()),this.ajaxDataFun("post",i,function(t){if("200"==t.code){if(n.a.show("icon-icon_selected","删除成功"),e.isDelOne&&e.removeArr(e.selectIndex,e.delIndex),e.isDelMore){var i=e.selectIndex.length-1;for(i;i>-1;i--)e.selectIndex.indexOf(e.delIdIndex[i])>-1&&e.removeArr(e.selectIndex,e.delIdIndex[i]);e.isEdit=!1}e.itemList=t.data.itemList,e.invalidItemList=t.data.invalidItemList,e.getMcartNum()}})},clearInvalid:function(){this.isDelMore=!0;var t=this.invalidArr.toString();this.delFun(t)},accountF:function(){if(!this.selectIndex.length)return void n.a.show("icon-sign","您还未选择商品哦");var t=this,e="";this.$store.state.orderItems="",this.$store.state.promotionId="",this.$store.state.promotionType="",this.$store.state.ptId="",localStorage.removeItem("orderItems"),localStorage.removeItem("promotionId"),localStorage.removeItem("promotionType"),localStorage.removeItem("ptId"),localStorage.removeItem("orderId"),t.selectIndex.length?(t.selectIndex.forEach(function(i,s){var n=!0,o=!1,c=void 0;try{for(var r,l=a()(t.itemList);!(n=(r=l.next()).done);n=!0){var d=r.value;i==d.index&&(e+=d.product.productWareId+":"+d.quantity+":"+d.id+",")}}catch(t){o=!0,c=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw c}}}),t.$store.state.orderItems=e.slice(0,-1),localStorage.setItem("orderItems",t.$store.state.orderItems),this.$store.state.isLogin?t.$router.push("/payment"):(this.$store.state.loginToPage="/payment",this.$store.state.isShowLogin=!0)):console.log("未选中")},getMcartNum:function(){var t=this;this.ajaxDataFun("post","/wechatecom/appserver/cart/getCartSkuCount.do",function(e){"200"==e.code&&(t.$store.state.cartNum=e.data.count,localStorage.setItem("cartNum",e.data.count),console.log(t.$store.state.cartNum))})}},computed:{totalPrice:function(){var t=0,e=this;return e.selectIndex.forEach(function(i,s){var n=!0,o=!1,c=void 0;try{for(var r,l=a()(e.itemList);!(n=(r=l.next()).done);n=!0){var d=r.value;i==d.index&&(t+=d.price*d.quantity)}}catch(t){o=!0,c=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw c}}}),t.toFixed(2)}}}},VXmO:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"choseNum"},[i("span",{on:{click:function(e){t.reduceCartNum()}}},[t._v("-")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:t.quantity},on:{input:[function(e){e.target.composing||(t.quantity=e.target.value)},t.inputF],focus:function(e){t.selectTxt(e)}}}),t._v(" "),i("span",{staticClass:"tright",on:{click:function(e){t.addCartNum()}}},[t._v("+")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.specTxtStr.length,expression:"specTxtStr.length"}],staticClass:"choseInfo",on:{click:function(e){t.getAllData("")}}},[t._v("\n        规格："+t._s(t.specTxtStr)+" \n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popBg",on:{click:function(e){t.isShow=!1}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popShop"},[i("div",{staticClass:"close icon-close",on:{click:function(e){t.isShow=!1}}}),t._v(" "),i("div",{staticClass:"top"},[i("div",{staticClass:"img"},[t.specImage?t._e():i("img",{attrs:{src:t.image,alt:""}}),t._v(" "),t.specImage?i("img",{attrs:{src:t.specImage,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"info"},[t.promotion?i("span",{staticClass:"flag"},[t._v("限时折扣")]):t._e(),t._v(" "),i("div",{staticClass:"price"},[i("em",[t._v("¥")]),t._v(t._s(t._f("leftPrice")(t.price))),i("em",[t._v(t._s(t._f("rightPrice")(t.price)))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.costPrice,expression:"costPrice"}]},[t._v("¥"+t._s(t.costPrice))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.specTxtStr.length,expression:"specTxtStr.length != 0"}],staticClass:"txt"},[t._v("已选: "+t._s(t.specTxtStr)+" ")])])]),t._v(" "),i("p",[t._v(" "+t._s(t.specList)+" ")]),t._v(" "),i("div",{staticClass:"chooseWrap"},t._l(t.specList,function(e,s){return i("div",{staticClass:"chose"},[i("div",{staticClass:"title"},[i("p",[t._v(t._s(e.name))])]),t._v(" "),i("ul",{staticClass:"clearfix"},t._l(e.valueList,function(e,a){return i("li",{class:{active:e.isSelected,blank:!e.retainStock},on:{click:function(i){t.chooseSpelF(s,e.id,e.retainStock)}}},[t._v(t._s(e.name)+"\n                    ")])}))])})),t._v(" "),i("div",{staticClass:"number"},[i("div",{staticClass:"title"},[i("b",[t._v("数量")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.promotion.buyLimit,expression:"promotion.buyLimit"}]},[t._v(" (每人限购"+t._s(t.promotion.buyLimit)+"件，超出按非活动价计算)")])]),t._v(" "),i("ul",{staticClass:"add clearfix"},[i("li",{on:{click:t.reduceCartNum}},[i("span",{class:{blank:1==t.quantity}},[t._v("-")])]),t._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:t.quantity},on:{input:[function(e){e.target.composing||(t.quantity=e.target.value)},t.inputF],focus:function(e){t.selectTxt(e)}}})]),t._v(" "),i("li",{on:{click:t.addCartNum}},[i("span",{class:{blank:t.quantity==t.stock}},[t._v("+")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.stock<11,expression:"stock < 11"}],staticClass:"tip"},[t._v("库存仅剩"+t._s(t.stock)+"件")])]),t._v(" "),i("div",{staticClass:"btn"},[i("div",{staticClass:"sureBtn only",class:{active:t.stock},on:{click:t.updataWare}},[t._v("确定")])])])])},a=[],n={render:s,staticRenderFns:a};e.a=n},YpdP:function(t,e,i){t.exports=i.p+"dist/img/logo2.eadc73f.png"},Yujd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("U8YY"),a=i("8uJW"),n=i("mPyB"),o=n(s.a,a.a,!1,null,null,null);e.default=o.exports},ZVGX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAAzZJREFUWAnFmL9OG0EQxs9nBHLhxsgygtLYlijSWC7zAiRR2pR5BpSQPEICEW8QKWXaKAkvQOkuBZKxKUEgC0uIwjKS7cxvdXO6W27tOxOHkdb7b2a+b2f3bvac8zLI+fl5bTwev55MJs/FbEvKppR1KTdSLqVc+L5/ks/nf1Sr1a70U0luntZ0Os13Op23uVxuT9o78/R1XvRPRf+o0Wh8k/ZYx5PqmSTOzs5eiKODLOA2CGSk7Nfr9d/2nPYTSQioL6v/JErvVfEf1IcSlY9CaGL7ekCi3+8XB4PBdyGyays/ti8Ejkul0ptyuXwX9eVHO0RgWQTAYWGB/xhurCNb8HkZEbAWuhtsdTgcbgeHUB69X+HMkhvyKL/Uw2oiIavPSzlw4Y5GI+/uLraNLtVwHH3sXAIeuMyv8MN7QKrEdwCO2u02++lVKhVP2GMyUySq3vX1tScH0Wu1Wt7a2toDffG3E+B+NZEQ5b0HWsHA/f29IUAXx93u7Bch8+ghEMfeJYrr8yqGlUuxWCyaCOj81dWVkwgEmFchcti7BFzwfXKBS0nH2YKNjQ3tGiA7IjYB9NNsHfgrQTIKAVyNWq1mpnSlWm9vb3u9Xi8WAQiovsufjoPPwSQbphJ1rASob29vveFwGNpnIRAYbXEwScepBSLRrXkkAXA3IcF9IJOwBYVCIWZDn/EFZB0SXEgyCWcgGgGM6TO+gNxAghtRarGfgmhEOCP2U5PC8SUkLlIoGhWbAGej2WzGzsgCRLgS+idpSCQR4JDyarYPaxYi4PtcSueRIBfgWCXpMUwigt08Ad/nViyrOXUpkw01F6CTREBtbSLYzcq+4ILPmSDRHKkju15dXTUhZ5xcANAsYR49hK3C3iWKay410slL6P6QUJIMSOdkw1nJyLYjAhBISuPoEgXJLc+kHptI0JCybzvSPo6yEMAOfRcB5sEDl7YhQUNY8V1wSPs/yGGAZ6DCOyY92Q5ftuWn1LvLIiKrPxYCr6QOvz/CSADKBN8FKC6DBH4D/yEBg5sERkS4/svcu6T5Bce+yBfYh2gE1E9sO3RQa9map/sWVRLUEpWn/SqPkqG9rP8n/gLyYbuDCok/MAAAAABJRU5ErkJggg=="},bn0q:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isShowLogin,expression:"$store.state.isShowLogin"}]},[s("div",{staticClass:"popBg than",on:{click:function(e){t.$store.state.isShowLogin=!1}}}),t._v(" "),s("div",{staticClass:"loginMain "},[s("div",{staticClass:"loginTitle"},[t._v("登陆/注册")]),t._v(" "),s("ul",[s("li",{staticClass:"first"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneVal,expression:"phoneVal"}],staticClass:"input",attrs:{type:"number",name:"phone",placeholder:"请输入手机号"},domProps:{value:t.phoneVal},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getCodeF()},input:function(e){e.target.composing||(t.phoneVal=e.target.value)}}}),t._v(" "),s("button",{staticClass:"getCode",class:{active:t.rightPhone,hide:t.beginCount||t.reSend},on:{click:function(e){t.getCodeF()}}},[t._v("获取验证码")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.beginCount,expression:"beginCount"}],staticClass:"getCode"},[t._v("已发送("+t._s(t.timeLeng)+"s)")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.reSend,expression:"reSend"}],staticClass:"getCode active",on:{click:function(e){t.getCodeF()}}},[t._v("重新发送")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.hasPhone,expression:"hasPhone"}],staticClass:"clearTel clear",on:{click:function(e){t.phoneVal=""}}},[s("img",{attrs:{src:i("ZVGX"),alt:""}})])]),t._v(" "),s("li",{staticClass:"second"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.codeVal,expression:"codeVal"}],staticClass:"input",attrs:{type:"number",name:"code",placeholder:"请输入验证码"},domProps:{value:t.codeVal},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.loginFun()},input:function(e){e.target.composing||(t.codeVal=e.target.value)}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.hasCode,expression:"hasCode"}],staticClass:"clearCode clear",on:{click:function(e){t.codeVal=""}}},[s("img",{attrs:{src:i("ZVGX"),alt:""}})])]),t._v(" "),s("li",{staticClass:"third"},[s("div",{staticClass:"loginButton",class:{active:t.rightPhone&&t.rightCode},on:{click:function(e){t.loginFun()}}},[t._v("\n                    "+t._s(t.loginTxt)+"\n                ")])])])])])},a=[],n={render:s,staticRenderFns:a};e.a=n},cQmP:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"footer"}},[i("ul",{staticClass:"justify"},[i("li",{staticClass:"box",class:{active:1==t.fIndex}},[i("router-link",{attrs:{to:"/index"}},[i("span",{staticClass:"icon icon_a icon-home_nomal"}),t._v(" "),i("span",{staticClass:"icon icon_b icon-home_selected"}),t._v(" "),i("p",[t._v("首页")])])],1),t._v(" "),i("li",{staticClass:"box",class:{active:2==t.fIndex}},[i("router-link",{attrs:{to:"/category"}},[i("span",{staticClass:"icon icon_a icon-classify"}),t._v(" "),i("span",{staticClass:"icon icon_b icon-selected"}),t._v(" "),i("p",[t._v("商品分类")])])],1),t._v(" "),i("li",{staticClass:"box",class:{active:3==t.fIndex}},[i("router-link",{attrs:{to:"/mycart"}},[i("span",{staticClass:"icon icon_a icon-cart_nomal"}),t._v(" "),i("span",{staticClass:"icon icon_b icon-cart_selected"}),t._v(" "),i("p",[t._v("购物车")]),t._v(" "),0!=t.$store.state.cartNum?i("em",[t._v(t._s(t.$store.state.cartNum))]):t._e()])],1),t._v(" "),i("li",{staticClass:"box",class:{active:4==t.fIndex}},[i("router-link",{attrs:{to:"/center"}},[i("span",{staticClass:"icon icon_a icon-tab_nomal"}),t._v(" "),i("span",{staticClass:"icon icon_b icon-tab_selected"}),t._v(" "),i("p",[t._v("个人中心")])])],1)])])},a=[],n={render:s,staticRenderFns:a};e.a=n},ca2Z:function(t,e,i){var s=i("4zJo"),a=i("ZpzW")("toStringTag"),n="Arguments"==s(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),a))?i:n?s(e):"Object"==(c=s(e))&&"function"==typeof e.callee?"Arguments":c}},dbJu:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},gUMz:function(t,e,i){t.exports=i.p+"dist/img/not_cart.7e4ec29.png"},kYqm:function(t,e,i){i("62Nr");var s=i("ZBPP").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},lMd0:function(t,e,i){"use strict";i("E7z3");e.a={name:"footer",data:function(){return{}},props:["fIndex"],created:function(){},methods:{}}},mzkE:function(t,e,i){"use strict";var s=i("lMd0"),a=i("cQmP"),n=i("mPyB"),o=n(s.a,a.a,!1,null,null,null);e.a=o.exports},pDxG:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._e()},a=[],n={render:s,staticRenderFns:a};e.a=n},"t/3t":function(t,e,i){"use strict";e.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var e=t[0].text;e!==document.title&&(document.title=e)}}}}},u6qr:function(t,e,i){t.exports={default:i("TBFq"),__esModule:!0}}});
//# sourceMappingURL=2.253654ca2bea35e916b7.js.map