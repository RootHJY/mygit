webpackJsonp([16],{"62Nr":function(t,s,e){var i=e("5I2C");i(i.S+i.F*!e("eOPJ"),"Object",{defineProperty:e("8tNu").f})},"9Mtm":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bgf noPad",attrs:{id:"container"}},[e("v-title",[t._v(" "+t._s(t.pageTitle))]),t._v(" "),e("form",{staticClass:"myWhiteBg refunds "},[e("div",{staticClass:"refunds"},[1==t.type?e("div",{staticClass:"normal"},[e("div",{staticClass:"clearfix"},[t._m(0),t._v(" "),e("div",{staticClass:"fright",staticStyle:{width:"70%","text-align":"right"},on:{click:function(s){t.goods=!0}}},[e("p",{staticClass:"gray"},[t._v(" "+t._s(t.goodsTip)+" ")]),t._v(" "),e("span",{staticClass:"icon-arrow"})])])]):t._e(),t._v(" "),e("div",{staticClass:"normal"},[e("div",{staticClass:"clearfix"},[t._m(1),t._v(" "),e("div",{staticClass:"fright",staticStyle:{width:"70%","text-align":"right"},on:{click:function(s){t.reasons=!0}}},[e("p",{staticClass:"gray"},[t._v(" "+t._s(t.reasonsTip)+" ")]),t._v(" "),e("span",{staticClass:"icon-arrow"})])])]),t._v(" "),e("div",{staticClass:"normal"},[e("div",{staticClass:"clearfix"},[t._m(2),t._v(" "),e("div",{staticClass:"fleft refLeft"},[e("div",{staticClass:"mustM"},[t._v("¥\n                                "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number",name:"money",placeholder:"请填写"},domProps:{value:t.money},on:{blur:function(s){t.toastMoney()},input:function(s){s.target.composing||(t.money=s.target.value)}}})]),t._v(" "),e("p",{staticStyle:{"font-size":"12px",color:"#A5A4A4"}},[t._v("最多￥"+t._s(t.moneyMax)+"（运费不退，优惠差价不退）")])])])]),t._v(" "),e("div",{staticClass:"normal"},[e("div",{staticClass:"clearfix"},[t._m(3),t._v(" "),e("div",{staticClass:"fleft refLeft"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticStyle:{width:"180px"},attrs:{type:"number",name:"phone",placeholder:"填写手机号便于客服联系您"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"normal textarea"},[e("div",{staticClass:"clearfix"},[e("div",{staticClass:"fleft"},[t._v("备注信息")]),t._v(" "),e("div",{staticClass:"fright"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],attrs:{name:"memo",maxlength:"100",placeholder:"最多可填写100个字"},domProps:{value:t.memo},on:{input:function(s){s.target.composing||(t.memo=s.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"normal"},[t._m(4),t._v(" "),e("div",{staticClass:"addImg clearfix"},t._l(t.imageLists,function(s,i){return 0==i||""!=s||t.activeIdx==i?e("div",{staticClass:"box refundImg",style:t.showImgCss[i]},[e("label",{class:{active:""==s}},[e("input",{ref:"uploadFile",refInFor:!0,staticStyle:{"font-size":"0",border:"0",width:"0"},attrs:{type:"file",name:"filemImg_"+i+t.time,accept:"image/jpeg,image/jpg,image/png"},on:{click:function(s){t.click_up(s,i)},change:function(s){t.getFileTest(s,i)}}}),t._v(" "),i===t.loadingIdx?e("em",[t._v("上传中...")]):t._e()]),t._v(" "),""!=s?e("span",{on:{click:function(s){t.clearImgTest(i)}}},[t._v("x")]):t._e()]):t._e()}))])]),t._v(" "),e("div",{staticClass:"tip"},[e("p",[t._v("注意事项：")]),t._v(" "),e("p",[t._v("1.如需办理退货，请将退款订单下所有数量的商品及赠品一并返回我们办理退货手续。 ")]),t._v(" "),e("p",[t._v("2.使用优惠券支付的订单，如发生退货，结算金额按照商品支付金额减去优惠券的金额退款，优惠券不予兑现。 ")]),t._v(" "),e("p",[t._v("3.订单申请退款，已经发出的优惠券无法进行退回。 ")]),t._v(" "),e("p",[t._v("4.实际退款金额和申请金额或有差额（如运费、商品破损等情况），最终退款金额以商家核对后，实际退款金额为准。 ")]),t._v(" "),e("p",{staticStyle:{"font-size":"10px"}},[t._v(" 最终解释权日日煮所有")]),t._v(" "),e("div",{staticClass:"sureBtn",class:{active:t.reasonsActive&&t.rightPhone&&t.goodsActive&&t.isMoney},on:{click:function(s){t.saveRefund(s)}}},[t._v(" 提交 ")])])]),t._v(" "),t.goods?e("div",{staticClass:"popBg",on:{click:function(s){t.goods=!t.goods}}}):t._e(),t._v(" "),t.goods?e("div",{staticClass:"popSendMethod"},[e("div",{staticClass:"tip"},[e("p",[t._v("货物状态")]),t._v(" "),e("span",{staticClass:"icon-close",on:{click:function(s){t.goods=!t.goods}}})]),t._v(" "),e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeGoods(1)}}},[t._m(5),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:1==t.goodsActive}})])]),t._v(" "),e("li",{staticClass:"item justify",on:{click:function(s){t.changeGoods(2)}}},[t._m(6),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:2==t.goodsActive}})])])]),t._v(" "),e("div",{staticClass:"blank"}),t._v(" "),e("div",{staticClass:"closeBtn sureBtn active"},[t._v("关闭")])]):t._e(),t._v(" "),t.reasons?e("div",{staticClass:"popBg",on:{click:function(s){t.reasons=!t.reasons}}}):t._e(),t._v(" "),t.reasons?e("div",{staticClass:"popSendMethod"},[e("div",{staticClass:"tip"},[e("p",[t._v("退款原因")]),t._v(" "),e("span",{staticClass:"icon-close",on:{click:function(s){t.reasons=!t.reasons}}})]),t._v(" "),e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(1)}}},[t._m(7),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:1==t.reasonsActive}})])])]),t._v(" "),1==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(2)}}},[t._m(8),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:2==t.reasonsActive}})])])]):t._e(),t._v(" "),1==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(3)}}},[t._m(9),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:3==t.reasonsActive}})])])]):t._e(),t._v(" "),1==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(4)}}},[t._m(10),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:4==t.reasonsActive}})])])]):t._e(),t._v(" "),1==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(5)}}},[t._m(11),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:5==t.reasonsActive}})])])]):t._e(),t._v(" "),2==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(7)}}},[t._m(12),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:7==t.reasonsActive}})])])]):t._e(),t._v(" "),2==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(8)}}},[t._m(13),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:8==t.reasonsActive}})])])]):t._e(),t._v(" "),2==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(9)}}},[t._m(14),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:9==t.reasonsActive}})])])]):t._e(),t._v(" "),2==t.type?e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(10)}}},[t._m(15),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:10==t.reasonsActive}})])])]):t._e(),t._v(" "),e("ul",[e("li",{staticClass:"item justify",on:{click:function(s){t.changeReasons(6)}}},[t._m(16),t._v(" "),e("div",{staticClass:"box right"},[e("span",{staticClass:"checkRefund",class:{active:6==t.reasonsActive}})])])]),t._v(" "),e("div",{staticClass:"closeBtn sureBtn active"},[t._v("关闭")])]):t._e(),t._v(" "),t.isWatched?e("div",{staticClass:"popBg",on:{click:function(s){t.isWatched=!1}}}):t._e(),t._v(" "),t.isWatched?e("div",{staticClass:"popRefunds"},[e("div",{staticClass:"close"},[e("span",{staticClass:"icon-close",on:{click:function(s){t.isWatched=!1}}})]),t._v(" "),t._m(17),t._v(" "),e("div",{staticClass:"tip"},[t._v("仅退款/退货退款注意事项")]),t._v(" "),t._m(18),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"btn",on:{click:function(s){t.isWatched=!1}}},[t._v("知道了")])]),t._v(" "),e("div",{staticClass:"copyright"},[t._v("本细则最终解释权归小煮集市所有")])]):t._e()],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fleft"},[e("span",{staticClass:"requied"}),t._v("货物状态 \n                        ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fleft"},[e("span",{staticClass:"requied"}),t._v("退款原因 \n                        ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fleft"},[e("span",{staticClass:"requied"}),t._v("退款金额")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fleft"},[e("span",{staticClass:"requied"}),t._v("手机号码 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"clearfix"},[e("div",{staticClass:"fleft"},[t._v("图片举证")]),t._v(" "),e("div",{staticClass:"fleft refLeft"},[e("p",[t._v("最多可上传4张图片")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 未收到货 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 已收到货 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 多买/买错/不想要 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 快递无跟踪记录 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 少货/空包裹 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 未按约定时间发货 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 快递一直未到达 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 质量有问题 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 商品描述不符 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 卖家发错货 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 收到商品少件或破损 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box left"},[e("b",{staticStyle:{"margin-left":"0"}},[t._v(" 其他 ")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:e("YpdP"),alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"info"},[e("ul",[e("li",[e("span",[t._v("01")]),t._v("如需办理退货，请将退款订单下所有数量的商品及赠品一并返回我们办理退货手续。")]),t._v(" "),e("li",[e("span",[t._v("02")]),t._v("使用优惠券支付的订单，如发生退货，结算金额按照商品支付金额减去优惠券的金额退款，优惠券不予兑现。")]),t._v(" "),e("li",[e("span",[t._v("03")]),t._v("订单申请退款，已经发出的优惠券无法进行退回。")]),t._v(" "),e("li",[e("span",[t._v("04")]),t._v("实际退款金额和申请金额或有差额（如运费、商品破损等情况），最终退款金额以商家核对后，实际退款金额为准。")])])])}],n={render:i,staticRenderFns:a};s.a=n},DwhX:function(t,s,e){"use strict";var i=e("ELNT"),a=e("E7z3"),n=e("xY2u"),c=e.n(n),o=e("Pexp");s.a={data:function(){return{pageTitle:"申请退款",itemId:"",type:"",goods:!1,reasons:!1,reasonsActive:0,reasonsTip:"请选择",goodsTip:"请选择",goodsActive:0,goodsList:["未收到货","已收到货"],reasonsList:["多买/买错/不想要","快递无跟踪记录","少货/空包裹","未按约定时间发货","快递一直未到达","其他","质量有问题","商品描述不符","卖家发错货","收到商品少件或破损"],phone:"",rightPhone:!1,isMoney:!0,money:"",moneyMax:"",memo:"",file:"",imageLists:["","","",""],activeIdx:"",listlength:0,showImgCss:[{backgroundImage:""},{backgroundImage:""},{backgroundImage:""},{backgroundImage:""}],loadingIdx:"",time:"",isWatched:!1}},components:{common:a.a,popMin:i.a,VTitle:o.a},created:function(){var t=a.a.getUrlPars(window.location.href);this.itemId=t.id,this.type=t.type,this.moneyMax=t.itemM,this.money=t.itemM,1!=this.type&&(this.goodsActive=1),this.getTime(),this.getFlag()},methods:{click_up:function(){console.log("click")},getFlag:function(){var t=this;t.ajaxDataFun("post","/wechatecom/appserver/refund/checkRefundOpen",function(s){"200"==s.code&&(t.isWatched=s.data)})},getFileTest:function(t,s){console.log(t);var e=this;if(this.file=t.target.files[0],this.file){this.loadingIdx=s;var i=new FormData;i.append("file",this.file);var a={headers:{"Content-Type":"multipart/form-data"}};c.a.post("/wechatecom/upload/uploadImage",i,a).then(function(i){console.log(i);var a=i.data;200==a.code&&(e.imageLists[s]=a.data,e.getTrueLength(),e.showImgCss[s].backgroundImage="url("+e.imageLists[s]+")",e.loadingIdx="",e.activeIdx=s<3?e.listlength:3,e.getTime(),console.log(t.target.files[0]))})}},clearImgTest:function(t){this.showImgCss.splice(t,1),this.showImgCss.push({backgroundImage:""}),this.imageLists.splice(t,1),this.imageLists.push(""),this.getTrueLength(),this.activeIdx=t<3?this.listlength:3,this.getTime()},getTrueLength:function(){this.listlength=0;for(var t=0;t<4;t++)""!=this.imageLists[t]&&this.listlength++},getTime:function(){this.time=+new Date},changeReasons:function(t){this.reasons=!this.reasons,this.reasonsActive=t,this.reasonsTip=this.reasonsList[t-1]},changeGoods:function(t){this.goods=!this.goods,this.goodsActive=t,this.goodsTip=this.goodsList[t-1]},toastMoney:function(){this.money?this.isMoney||i.a.show("icon-sign","退款金额超出，请修改"):(i.a.show("icon-sign","请填写退款金额"),this.requireNum++)},toastPhone:function(){this.phone?this.isPhone||i.a.show("icon-sign","请填写正确的手机电话"):(i.a.show("icon-sign","请填写手机电话"),this.requireNum++)},saveRefund:function(t){var s=this,e=this.imageLists[0]+","+this.imageLists[1]+","+this.imageLists[2]+","+this.imageLists[3],a="/wechatecom/appserver/refund/createRefund?itemId="+this.itemId+"&refundsType="+(this.type-1)+"&wareStatus="+(this.goodsActive-1)+"&refundsDesc="+this.reasonsList[this.reasonsActive-1]+"&applyAmount="+this.money+"&phone="+this.phone+"&memo="+this.memo+"&imageUrls="+e;this.goodsActive?this.reasonsActive?this.isMoney?this.rightPhone?this.ajaxDataFun("post",a,function(t){"200"==t.code?(i.a.show("icon-success","提交成功"),s.$router.push("/refunds/refundDetails?id="+t.data.id)):i.a.show("icon-sign",t.code+t.msg)}):this.toastPhone():this.toastMoney():i.a.show("icon-sign","请选择退款原因"):i.a.show("icon-sign","请选择货物状态")}},mounted:function(){},watch:{phone:function(){var t=/^1[34578]\d{9}$/.test(this.phone);this.rightPhone=!!t,console.log(this.rightPhone)},money:function(){/^[0-9]+(.[0-9]{0,2})?$/.test(this.money)&&this.money<=this.moneyMax?this.isMoney=!0:this.isMoney=!1,console.log(this.isMoney)}}}},ELNT:function(t,s,e){"use strict";var i=e("dbJu"),a=e.n(i),n=e("HFN4"),c=e.n(n),o=function(){function t(){a()(this,t)}return c()(t,[{key:"createPop",value:function(t,s,e){document.querySelectorAll(".popMin").length&&this.delete();var i=document.createElement("div");return i.className="popMin animated "+e,i.innerHTML='<span class="icon_imp '+t+'" ></span><p class="txt">'+s+"</p>",i}},{key:"show",value:function(t,s){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.createPop(t,s,i);a.classList.add("fadeIn"),document.body.appendChild(a),setTimeout(function(){e.close()},2e3)}},{key:"close",value:function(){for(var t=this,s=document.querySelectorAll(".popMin"),e=0;e<s.length;e++){var i=s[e];i.classList.remove("fadeIn"),i.classList.add("fadeOut")}setTimeout(function(){t.delete()},1e3)}},{key:"delete",value:function(){for(var t=document.querySelectorAll(".popMin"),s=0;s<t.length;s++){var e=t[s];e.parentNode.removeChild(e)}}}]),t}();s.a=new o},HFN4:function(t,s,e){"use strict";s.__esModule=!0;var i=e("HmUy"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);s.default=function(){function t(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,a.default)(t,i.key,i)}}return function(s,e,i){return e&&t(s.prototype,e),i&&t(s,i),s}}()},HmUy:function(t,s,e){t.exports={default:e("kYqm"),__esModule:!0}},LuNq:function(t,s,e){var i=e("Z9o2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("6imX")("9144cff4",i,!0)},Pexp:function(t,s,e){"use strict";var i=e("t/3t"),a=e("pDxG"),n=e("mPyB"),c=n(i.a,a.a,!1,null,null,null);s.a=c.exports},YpdP:function(t,s,e){t.exports=e.p+"dist/img/logo2.eadc73f.png"},Z9o2:function(t,s,e){s=t.exports=e("bKW+")(!0),s.push([t.i,".textarea .fright[data-v-4db1fed0]{padding-left:0}.mustM input[data-v-4db1fed0]{color:red}.line[data-v-4db1fed0]{width:22.085%}.refundImg[data-v-4db1fed0]{float:left;margin-right:2%}","",{version:3,sources:["/Users/roothjy/git/weShop/wechatecom/src/main/webapp/h5/shop/src/page/refunds/applyRefund.vue"],names:[],mappings:"AACA,mCACE,cAAgB,CACjB,AACD,8BACE,SAAW,CACZ,AACD,uBACE,aAAe,CAChB,AACD,4BACE,WAAY,AACZ,eAAiB,CAClB",file:"applyRefund.vue",sourcesContent:["\n.textarea .fright[data-v-4db1fed0] {\n  padding-left: 0;\n}\n.mustM input[data-v-4db1fed0] {\n  color: red;\n}\n.line[data-v-4db1fed0] {\n  width: 22.085%;\n}\n.refundImg[data-v-4db1fed0] {\n  float: left;\n  margin-right: 2%;\n}\n"],sourceRoot:""}])},c8o7:function(t,s,e){"use strict";function i(t){e("LuNq")}Object.defineProperty(s,"__esModule",{value:!0});var a=e("DwhX"),n=e("9Mtm"),c=e("mPyB"),o=i,l=c(a.a,n.a,!1,o,"data-v-4db1fed0",null);s.default=l.exports},dbJu:function(t,s,e){"use strict";s.__esModule=!0,s.default=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}},kYqm:function(t,s,e){e("62Nr");var i=e("ZBPP").Object;t.exports=function(t,s,e){return i.defineProperty(t,s,e)}},pDxG:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement;t._self._c;return t._e()},a=[],n={render:i,staticRenderFns:a};s.a=n},"t/3t":function(t,s,e){"use strict";s.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var s=t[0].text;s!==document.title&&(document.title=s)}}}}}});
//# sourceMappingURL=16.285a9c111f9f641d438e.js.map