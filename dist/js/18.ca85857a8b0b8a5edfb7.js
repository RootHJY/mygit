webpackJsonp([18],{"+T4H":function(t,e,i){t.exports=!i("A4ra")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+kcP":function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"4r8K":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bgf noPad",attrs:{id:"container"}},[i("v-title",[t._v(" "+t._s(t.pageTitle))]),t._v(" "),i("form",{staticClass:"myWhiteBg refunds "},[i("div",{staticClass:"refunds"},[i("div",{staticClass:"normal"},[i("div",{staticClass:"clearfix"},[t._m(0),t._v(" "),i("div",{staticClass:"fright",on:{click:function(e){t.isLogistic=!0}}},[i("p",{staticClass:"gray"},[t._v(" "+t._s(t.logisticTip)+" ")]),t._v(" "),i("span",{staticClass:"icon-arrow"})])])]),t._v(" "),i("div",{staticClass:"normal"},[i("div",{staticClass:"clearfix"},[t._m(1),t._v(" "),i("div",{staticClass:"fleft refLeft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.logisNum,expression:"logisNum"}],attrs:{type:"number",name:"logisNum",placeholder:"填写物流单号"},domProps:{value:t.logisNum},on:{input:function(e){e.target.composing||(t.logisNum=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"normal"},[i("div",{staticClass:"clearfix"},[t._m(2),t._v(" "),i("div",{staticClass:"fleft refLeft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",name:"phone",placeholder:"填写手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"normal textarea"},[i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fleft"},[t._v("备注信息")]),t._v(" "),i("div",{staticClass:"fright"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],attrs:{name:"memo",maxlength:"200",placeholder:"最多可填写200个字"},domProps:{value:t.memo},on:{input:function(e){e.target.composing||(t.memo=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"normal"},[t._m(3),t._v(" "),i("div",{staticClass:"addImg clearfix"},t._l(t.imageLists,function(e,n){return 0==n||""!=e||t.activeIdx==n?i("div",{staticClass:"box refundImg",style:t.showImgCss[n]},[i("label",{class:{active:""==e}},[i("input",{staticStyle:{"font-size":"0",border:"0",width:"0"},attrs:{type:"file",name:"filemImg",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.getFileTest(e,n)}}}),t._v(" "),n===t.loadingIdx?i("em",[t._v("上传中...")]):t._e()]),t._v(" "),""!=e?i("span",{on:{click:function(e){t.clearImgTest(n)}}},[t._v("x")]):t._e()]):t._e()}))]),t._v(" "),i("div",{staticClass:"tip"},[i("div",{staticClass:"sureBtn",class:{active:""!=t.logisticCom&&t.rightPhone&&t.isLogisNum},on:{click:function(e){t.saveRefund(e)}}},[t._v(" 提交 ")])])])]),t._v(" "),t.isLogistic?i("div",{staticClass:"popBg"}):t._e(),t._v(" "),t.isLogistic?i("div",{staticClass:"popSendMethod"},[i("div",{staticClass:"tip"},[i("p",[t._v("物流公司")]),t._v(" "),i("span",{staticClass:"icon-close",on:{click:function(e){t.isLogistic=!1}}})]),t._v(" "),i("div",{staticClass:"corp"},t._l(t.corpList,function(e,n){return i("label",{on:{click:function(i){t.changeCorp(e.name)}}},[i("ul",[i("li",{staticClass:"item justify"},[i("div",{staticClass:"box left"},[i("b",{staticStyle:{"margin-left":"0"}},[t._v(" "+t._s(e.name))])]),t._v(" "),i("div",{staticClass:"box right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.logisticCom,expression:"logisticCom"}],attrs:{type:"radio",name:"logisticCom"},domProps:{value:e.id,checked:t._q(t.logisticCom,e.id)},on:{change:function(i){t.logisticCom=e.id}}})])])])])})),t._v(" "),i("div",{staticClass:"bg"},[i("div",{staticClass:"closeBtn sureBtn active",on:{click:function(e){t.isLogistic=!1}}},[t._v("关闭 ")])])]):t._e()],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fleft"},[i("span",{staticClass:"requied"}),t._v("物流公司 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fleft"},[i("span",{staticClass:"requied"}),t._v("物流单号 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fleft"},[i("span",{staticClass:"requied"}),t._v("手机号码 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix"},[i("div",{staticClass:"fleft"},[t._v("图片举证")]),t._v(" "),i("div",{staticClass:"fleft refLeft"},[i("p",[t._v("最多可上传4张图片")])])])}],s={render:n,staticRenderFns:a};e.a=s},"68dh":function(t,e,i){t.exports=!i("+T4H")&&!i("A4ra")(function(){return 7!=Object.defineProperty(i("ZsfF")("div"),"a",{get:function(){return 7}}).a})},A4ra:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},AA3o:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},ELNT:function(t,e,i){"use strict";var n=i("AA3o"),a=i.n(n),s=i("xSur"),o=i.n(s),r=function(){function t(){a()(this,t)}return o()(t,[{key:"createPop",value:function(t,e,i){document.querySelectorAll(".popMin").length&&this.delete();var n=document.createElement("div");return n.className="popMin animated "+i,n.innerHTML='<span class="icon_imp '+t+'" ></span><p class="txt">'+e+"</p>",n}},{key:"show",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.createPop(t,e,n);a.classList.add("fadeIn"),document.body.appendChild(a),setTimeout(function(){i.close()},2e3)}},{key:"close",value:function(){for(var t=this,e=document.querySelectorAll(".popMin"),i=0;i<e.length;i++){var n=e[i];n.classList.remove("fadeIn"),n.classList.add("fadeOut")}setTimeout(function(){t.delete()},1e3)}},{key:"delete",value:function(){for(var t=document.querySelectorAll(".popMin"),e=0;e<t.length;e++){var i=t[e];i.parentNode.removeChild(i)}}}]),t}();e.a=new r},G4V1:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._e()},a=[],s={render:n,staticRenderFns:a};e.a=s},NYhm:function(t,e,i){var n=i("+kcP"),a=i("TF39"),s=i("ashN"),o=i("gBD/"),r=i("kJAX"),c=function(t,e,i){var u,l,f,d=t&c.F,p=t&c.G,v=t&c.S,m=t&c.P,h=t&c.B,g=t&c.W,C=p?a:a[e]||(a[e]={}),A=C.prototype,_=p?n:v?n[e]:(n[e]||{}).prototype;p&&(i=e);for(u in i)(l=!d&&_&&void 0!==_[u])&&r(C,u)||(f=l?_[u]:i[u],C[u]=p&&"function"!=typeof _[u]?i[u]:h&&l?s(f,n):g&&_[u]==f?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):m&&"function"==typeof f?s(Function.call,f):f,m&&((C.virtual||(C.virtual={}))[u]=f,t&c.R&&A&&!A[u]&&o(A,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},OCEQ:function(t,e,i){"use strict";e.a={created:function(){this.updateTitle()},beforeUpdate:function(){this.updateTitle()},methods:{updateTitle:function(){var t=this.$slots.default;if(!(void 0===t||t.length<1||"string"!=typeof t[0].text)){var e=t[0].text;e!==document.title&&(document.title=e)}}}}},Pexp:function(t,e,i){"use strict";var n=i("OCEQ"),a=i("G4V1"),s=i("Z0/y"),o=s(n.a,a.a,!1,null,null,null);e.a=o.exports},TF39:function(t,e){var i=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=i)},XA92:function(t,e,i){var n=i("m1QJ");t.exports=function(t,e){if(!n(t))return t;var i,a;if(e&&"function"==typeof(i=t.toString)&&!n(a=i.call(t)))return a;if("function"==typeof(i=t.valueOf)&&!n(a=i.call(t)))return a;if(!e&&"function"==typeof(i=t.toString)&&!n(a=i.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},YzNU:function(t,e,i){"use strict";var n=i("ELNT"),a=i("E7z3"),s=i("BMa3"),o=i.n(s),r=i("Pexp");e.a={data:function(){return{pageTitle:"填写物流",itemId:"",corpList:"",logisticTip:"请选择",logisticCom:"",isLogistic:!1,reasonsList:["多买/买错/不想要","快递无记录","少货/空包裹","未按约定时间发货","快递一直未到达","其他"],phone:"",rightPhone:!1,logisNum:"",isLogisNum:!1,memo:"",file:"",imageLists:["","","",""],activeIdx:"",listlength:0,showImgCss:[{backgroundImage:""},{backgroundImage:""},{backgroundImage:""},{backgroundImage:""}],loadingIdx:""}},components:{common:a.a,popMin:n.a,VTitle:r.a},created:function(){var t=a.a.getUrlPars(window.location.href);this.itemId=t.id;var e=this;this.ajaxDataFun("post","/api/deliveryCorp/deliveryCorpList",function(t){"200"==t.code&&(e.corpList=t.data)})},methods:{getFileTest:function(t,e){var i=this;if(this.file=t.target.files[0],this.file){this.loadingIdx=e;var n=new FormData;n.append("file",this.file);var a={headers:{"Content-Type":"multipart/form-data"}};o.a.post("/wechatecom/upload/uploadImage",n,a).then(function(t){var n=t.data;200==n.code&&(i.imageLists[e]=n.data,i.getTrueLength(),i.showImgCss[e].backgroundImage="url("+i.imageLists[e]+")",i.loadingIdx="",i.activeIdx=e<3?i.listlength:3)})}},clearImgTest:function(t){this.showImgCss.splice(t,1),this.showImgCss.push({backgroundImage:""}),this.imageLists.splice(t,1),this.imageLists.push(""),this.getTrueLength(),this.activeIdx=t<3?this.listlength:3},getTrueLength:function(){this.listlength=0;for(var t=0;t<4;t++)""!=this.imageLists[t]&&this.listlength++},changeCorp:function(t){this.isLogistic=!1,this.logisticTip=t},toastPhone:function(){this.phone?this.isPhone||n.a.show("icon-sign","请填写正确的手机电话"):(n.a.show("icon-sign","请填写手机电话"),this.requireNum++)},saveRefund:function(t){var e=this,i=this.imageLists[0]+","+this.imageLists[1]+","+this.imageLists[2]+","+this.imageLists[3],a="/api/refund/updateRefund?id="+this.itemId+"&deliveryCorpId="+this.logisticCom+"&trackingNo="+this.logisNum+"&phone="+this.phone+"&memo="+this.memo+"&imageUrl="+i;this.logisticCom?this.logisNum?this.rightPhone?this.ajaxDataFun("post",a,function(t){"200"==t.code&&(n.a.show("icon-success","提交成功"),e.$router.push("/refunds/refundDetails?id="+t.data.id))}):this.toastPhone():n.a.show("icon-sign","请填写物流单号"):n.a.show("icon-sign","请选择物流公司")}},mounted:function(){},watch:{phone:function(){var t=/^1[34578]\d{9}$/.test(this.phone);this.rightPhone=!!t,console.log(this.rightPhone)},logisNum:function(){""!==this.logisNum?this.isLogisNum=!0:this.isLogisNum=!1,console.log(this.isLogisNum)},logisticCom:function(){console.log(this.logisticCom)}}}},ZmB2:function(t,e,i){var n=i("NYhm");n(n.S+n.F*!i("+T4H"),"Object",{defineProperty:i("bfYp").f})},ZsfF:function(t,e,i){var n=i("m1QJ"),a=i("+kcP").document,s=n(a)&&n(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}},Zxid:function(t,e,i){var n=i("evqG");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("7647e8ab",n,!0,{})},ashN:function(t,e,i){var n=i("qfPT");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,a){return t.call(e,i,n,a)}}return function(){return t.apply(e,arguments)}}},bTkh:function(t,e,i){"use strict";function n(t){i("Zxid")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("YzNU"),s=i("4r8K"),o=i("Z0/y"),r=n,c=o(a.a,s.a,!1,r,"data-v-20ba43ca",null);e.default=c.exports},bfYp:function(t,e,i){var n=i("ymHI"),a=i("68dh"),s=i("XA92"),o=Object.defineProperty;e.f=i("+T4H")?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),a)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},cwhd:function(t,e,i){i("ZmB2");var n=i("TF39").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},evqG:function(t,e,i){e=t.exports=i("UTlt")(!0),e.push([t.i,".textarea .fright[data-v-20ba43ca]{padding-left:0}.mustM input[data-v-20ba43ca]{color:red}.line[data-v-20ba43ca]{width:22.085%}.popSendMethod[data-v-20ba43ca]{height:70%}.corp[data-v-20ba43ca]{overflow-y:scroll;height:100%;padding-bottom:100px}.bg[data-v-20ba43ca]{position:fixed;bottom:0;left:0;right:0;background-color:#fff}.refundImg[data-v-20ba43ca]{float:left;margin-right:2%}","",{version:3,sources:["G:/gitHub/shopVue/src/page/refunds/addLogistics.vue"],names:[],mappings:"AACA,mCACE,cAAgB,CACjB,AACD,8BACE,SAAW,CACZ,AACD,uBACE,aAAe,CAChB,AACD,gCACE,UAAY,CACb,AACD,uBACE,kBAAmB,AACnB,YAAa,AACb,oBAAsB,CACvB,AACD,qBACE,eAAgB,AAChB,SAAU,AACV,OAAQ,AACR,QAAS,AACT,qBAAuB,CACxB,AACD,4BACE,WAAY,AACZ,eAAiB,CAClB",file:"addLogistics.vue",sourcesContent:["\n.textarea .fright[data-v-20ba43ca] {\n  padding-left: 0;\n}\n.mustM input[data-v-20ba43ca] {\n  color: red;\n}\n.line[data-v-20ba43ca] {\n  width: 22.085%;\n}\n.popSendMethod[data-v-20ba43ca] {\n  height: 70%;\n}\n.corp[data-v-20ba43ca] {\n  overflow-y: scroll;\n  height: 100%;\n  padding-bottom: 100px;\n}\n.bg[data-v-20ba43ca] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n}\n.refundImg[data-v-20ba43ca] {\n  float: left;\n  margin-right: 2%;\n}\n"],sourceRoot:""}])},"gBD/":function(t,e,i){var n=i("bfYp"),a=i("yyor");t.exports=i("+T4H")?function(t,e,i){return n.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},kJAX:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},liLe:function(t,e,i){t.exports={default:i("cwhd"),__esModule:!0}},m1QJ:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},qfPT:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},xSur:function(t,e,i){"use strict";e.__esModule=!0;var n=i("liLe"),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},ymHI:function(t,e,i){var n=i("m1QJ");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},yyor:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}}});
//# sourceMappingURL=18.ca85857a8b0b8a5edfb7.js.map